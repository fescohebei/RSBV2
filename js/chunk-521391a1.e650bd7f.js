(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-521391a1"],{"04f6":function(t,a,s){"use strict";var e=s("84de"),o=s.n(e);o.a},"84de":function(t,a,s){},e248:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:600,zIndex:1001,footer:!1,centered:!0},on:{cancel:t.onClose}},[s("template",{slot:"title"},[t._v("\n  单增社保导入\n")]),s("a-form",{attrs:{form:t.form,layout:"horizontal"}},[s("a-row",{attrs:{gutter:11}},[s("a-col",{attrs:{md:24}},[s("a-form-item",{attrs:{label:"",labelCol:{span:7},wrapperCol:{span:254}}},[s("a-spin",{attrs:{tip:"上传中",spinning:t.spinning}},[s("a-upload-dragger",{attrs:{name:"file",multiple:!1,action:"/api/Company/uploadfile/ShebaoDanZengImport",accept:".xls, .xlsx",showUploadList:!1,withCredentials:!0,beforeUpload:t.uploadbefore,data:t.uploadData},on:{change:t.uploadchange}},[s("p",{staticClass:"ant-upload-drag-icon"},[s("a-icon",{attrs:{type:"inbox"}})],1),s("p",{staticClass:"ant-upload-text"},[t._v("\n                    将文件拖到此处，或\n                    "),s("a-tag",{attrs:{color:"#2db7f5"}},[t._v("点击上传")])],1),s("p",{staticClass:"ant-upload-hint"},[t._v("只能上传xls/xlsx文件")])])],1)],1)],1)],1)],1),s("a-modal",{attrs:{destroyOnClose:!0,visible:this.errorShow,maskClosable:!1,width:400,zIndex:1001,footer:!1,centered:!0},on:{cancel:t.onCloseError}},[s("template",{slot:"title"},[t._v("\n        增员派单导入失败\n      ")]),s("a-row",t._l(t.errorlist,function(a,e){return s("a-col",{key:e,attrs:{span:22}},[t._v(t._s(e+1)+". "+t._s(a.msg))])}),1),s("a-tag",{staticStyle:{"margin-top":"15px"},attrs:{color:"red"}},[t._v("\n        请修改后重新导入！！！\n      ")])],2)],2)},o=[],r=(s("b775"),s("c32d"),{props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{spinning:!1,visible:{show:!1,sbDetail:{},sbType:{},DoTypeArray:[]},form:this.$form.createForm(this),AFormImportRules:{},assetsdetail:{},errdatarows:[],errorShow:!1,errorlist:[],uploadData:{Role:""}}},watch:{show:function(t,a){var s=this;s.visible=t}},created:function(){var t=this;this.$watch("show",function(a,s){t.visible=a,t.visible.show&&t.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){},uploadbefore:function(t){var a=this;this.form.validateFields(function(t,s){var e=!t;e&&(a.spinning=!0,a.uploadData.Role=a.visible.Role)})},uploadchange:function(t){var a=t.file,s=t.fileList;t.event;if("uploading"!==a.status&&console.log(a,s),"done"==a.status){var e=a.response;e.code>0?(this.$message.error(e.msg),e.data&&(this.errdatarows=e.data)):e.data.rows.length>0&&""!=e.data.rows[0].msg?(this.errorlist=e.data.rows,this.errorShow=!0):(this.$message.success("导入成功"),this.refresh(),this.onClose())}this.spinning=!1},onCloseError:function(){this.errorShow=!1}}}),n=r,i=(s("04f6"),s("2877")),l=Object(i["a"])(n,e,o,!1,null,"2aea1567",null);a["default"]=l.exports}}]);