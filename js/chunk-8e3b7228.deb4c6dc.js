(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e3b7228","chunk-21fdb3d4"],{"31a1":function(t,e,a){"use strict";var i=a("dc44"),o=a.n(i);o.a},4778:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:600,zIndex:1001,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n   新建联系记录\n ")]),a("a-form",{attrs:{form:t.connectForm}},[a("div",{staticClass:"form-box"},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"下次联系时间",labelCol:{span:4},wrapperCol:{span:8}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["NextContacttime"],expression:"['NextContacttime']"}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{"margin-left":"0px"},attrs:{label:"联系内容",labelCol:{span:4},wrapperCol:{span:20}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["ContactContent",{rules:t.connectFormImportRules.remark}],expression:"['ContactContent',{rules:connectFormImportRules.remark}]"}],attrs:{placeholder:"联系内容",rows:4}})],1)],1)],1),a("div",{style:{width:"100%",padding:"0px 16px 10px",background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{staticStyle:{"margin-left":"122px"},attrs:{type:"primary","html-type":"submit"},on:{click:t.saveLock}},[t._v("确定")])],1)],1)])],2)},o=[],s=a("b775"),n={props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,sbTypeList:[]},connectForm:this.$form.createForm(this),connectFormImportRules:{remark:[{required:!0,message:"请输入联系内容"}]},ComBranch:[]}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){this.init()},methods:{init:function(){},saveLock:function(){var t=this,e={};t.connectForm.validateFields(function(a,i){a||(e=i,e.PGUID=t.visible.orderDetail.PGUID,t.$loading.open(),s["a"].post("/api/Employee/Contact/FlexibleAdd",e).then(function(e){t.$loading.close(),0===e.code?(t.$message.success(e.msg),t.onClose(),t.refresh()):t.$message.error(e.msg)}).catch(function(e){t.$loading.close(),console.log(e)}))})},onClose:function(){this.visible.show=!1,this.connectForm.resetFields()}}},r=n,l=(a("31a1"),a("2877")),d=Object(l["a"])(r,i,o,!1,null,"41bf2918",null);e["default"]=d.exports},"623b":function(t,e,a){},"6fc2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1100,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n  "+t._s("1"==t.visible.ModelType?"详情":"审核")+"\n")]),a("div",{staticClass:"tab-title"},[t._v("基本信息1")]),a("table",{staticClass:"detail-table",attrs:{border:"1"}},[a("tr",[a("td",[t._v("员工姓名:")]),a("td",[t._v(t._s(t.orderDetail["姓名"]))]),a("td",[t._v("身份证号:")]),a("td",[t._v(t._s(t.orderDetail["身份证号"]))]),a("td",[t._v("首次操作年:")]),a("td",[t._v(t._s(t.orderDetail.FirstBillYear))]),a("td",[t._v("收费至年:")]),a("td",[t._v(t._s(t.orderDetail.EndBillYear))])]),a("tr",[a("td",[t._v("手机号码:")]),a("td",[t._v(t._s(t.orderDetail.Mobile))]),a("td",[t._v("邮箱:")]),a("td",[t._v(t._s(t.orderDetail.Email))]),a("td",[t._v("紧急联系人:")]),a("td",[t._v("\n          "+t._s(t.orderDetail.LinkName)+"\n        ")]),a("td",{staticStyle:{"font-size":"12px"}},[t._v("紧急联系人电话:")]),a("td",[t._v(t._s(t.orderDetail.LinkMobile))])]),a("tr",[a("td",[t._v("参保项:")]),a("td",[t._v(t._s(t.orderDetail["参保项"]))]),a("td",{staticStyle:{"font-size":"12px"}},[t._v("养老起始时间:")]),a("td",[t._v(t._s(t.orderDetail["养老起始时间"]))]),a("td",{staticStyle:{"font-size":"12px"}},[t._v("医疗是否补缴:")]),a("td",[t._v(t._s(t.orderDetail["医疗是否补缴"]))]),a("td",[t._v("提交时间:")]),a("td",[t._v("\n          "+t._s(t.orderDetail.CreateTime)+"\n        ")])]),a("tr",[a("td",[t._v("审核状态:")]),a("td",[t._v(t._s(t.orderDetail.StatusStr))]),a("td",[t._v("审核人:")]),a("td",[t._v("\n          "+t._s(t.orderDetail.VerifyUserID)+"\n        ")]),a("td",[t._v("审核时间:")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.orderDetail.VerifyTime))])]),a("tr",[a("td",[t._v("户籍:")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.orderDetail.Huji))]),a("td",[t._v("邮寄地址:")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.orderDetail.Address))])]),a("tr",[a("td",[t._v("身份证正面:")]),a("td",{attrs:{colspan:"3"}},[null!=t.orderDetail.img_zheng?a("img",{attrs:{src:t.orderDetail.img_zhengUrl,width:"150px",height:"auto"}}):t._e()]),a("td",[t._v("身份证反面:")]),a("td",{attrs:{colspan:"3"}},[null!=t.orderDetail.img_fan?a("img",{attrs:{src:t.orderDetail.img_fanUrl,width:"150px",height:"auto"}}):t._e()])]),a("tr",[a("td",[t._v("审核备注")]),a("td",{attrs:{colspan:"7"}},[t._v(t._s(t.orderDetail.VerifyReason))])])]),a("a-form",{attrs:{form:t.form}},[a("a-row",{staticStyle:{"margin-bottom":"50px"}},[a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[t._v("社保记录")]),a("a-table",{attrs:{columns:t.sbcolumns,dataSource:t.sbdataSource,pagination:!1,rowKey:"FlexibleServiceGuid",size:"middle"}})],1),a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[t._v("联系记录"),a("a-button",{staticStyle:{"margin-left":"10px",float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.XinJian}},[t._v("新建联系记录")])],1),a("a-table",{attrs:{columns:t.Contactcolumns,dataSource:t.ContactdataSource,pagination:!1,rowKey:"index",size:"middle"}})],1),a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[t._v("缴费记录")]),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"index",size:"middle"},scopedSlots:t._u([{key:"action",fn:function(e,i){return a("span",{staticStyle:{"text-align":"right"}},[0==i.ChargeStatus?a("a",{on:{click:function(e){return t.hasPay(i)}}},[t._v("收款")]):t._e()])}}])})],1),"2"==t.visible.ModelType?a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{margin:"20px 0 0"},attrs:{label:"原因",labelCol:{span:1},wrapperCol:{span:23}}},[a("a-textarea",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.Remarks,callback:function(e){t.Remarks=e},expression:"Remarks"}})],1)],1):t._e()],1)],1),"2"==t.visible.ModelType?a("div",{style:{position:"absolute",bottom:"0",right:"0",width:"100%",padding:"10px 16px",borderTop:"1px solid #e8e8e8",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:function(e){return t.FlexibleRefuse()}}},[t._v("拒绝")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(e){return t.handleSubmit("1")}}},[t._v("通过")])],1):t._e(),a("modal-connect-add",{attrs:{show:t.modal.detail,refresh:t.init}})],2)},o=[],s=a("b775"),n=a("4778"),r=a("c32d"),l=a.n(r),d=[{title:"缴费状态",dataIndex:"ChargeStatusStr"},{title:"缴费时间",dataIndex:"Chargetime"},{title:"参保年度",dataIndex:"参保年度"},{title:"缴费金额",dataIndex:"Amount"},{title:"订单号",dataIndex:"out_trade_no"},{title:"退费时间",dataIndex:"RefundTime"},{title:"创建时间",dataIndex:"Createtime"},{title:"备注信息",dataIndex:"Remarks"},{title:"操作",scopedSlots:{customRender:"action"}}],c=[{title:"类型",dataIndex:"sbtypeStr"},{title:"增员状态",dataIndex:"AddStatusStr"},{title:"开始时间",dataIndex:"BeginMonth"},{title:"增员月份",dataIndex:"AddSBDate"},{title:"增员备注",dataIndex:"AddRemark"},{title:"减员状态",dataIndex:"SubStatusStr"},{title:"减员月份",dataIndex:"SubSBDate"},{title:"减员备注",dataIndex:"SubRemark"},{title:"社保账号",dataIndex:"SBAccount"}],u=[{title:"时间",dataIndex:"Contacttime"},{title:"下次联系时间",dataIndex:"NextContacttime"},{title:"内容",dataIndex:"ContactContent"}],m={components:{ModalConnectAdd:n["default"]},props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,orderDetail:{},sbType:{},ChargingCycle:{},ServiceType:{},ModelType:""},form:this.$form.createForm(this),orderDetail:{},columns:d,sbcolumns:c,Contactcolumns:u,modal:{detail:{show:!1}},dataSource:[],sbdataSource:[],ContactdataSource:[],moment:l.a,Remarks:""}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.visible.show&&(t.init(),t.pagechange())})},methods:{onClose:function(){this.visible.show=!1,this.orderDetail={},this.Remarks="",this.form.resetFields()},init:function(){var t=this;s["a"].post("/api/rsb/Flexible/Info",{guid:t.visible.orderDetail.FlexibleGuid}).then(function(e){t.$loading.close(),0===e.code&&(t.orderDetail=e.data.info,t.sbdataSource=e.data.sbService,t.ContactdataSource=e.data.contactList)}).catch(function(e){t.$loading.close(),console.log(e)})},handleSubmit:function(t){var e=this;"2"!=t||e.Remarks?e.$confirm({title:"确认审核"+("1"==t?"通过":"拒绝")+"?",content:"点击确定确认。",onOk:function(){s["a"].post("/api/rsb/Flexible/FlexiblePass",{FlexibleGuid:e.visible.orderDetail.FlexibleGuid,Verify:t,Reason:e.Remarks}).then(function(t){0===t.code?(e.$message.success(t.msg),e.refresh(),e.onClose()):e.$message.error(t.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}}):e.$message.error("请输入原因！")},FlexibleRefuse:function(){var t=this;t.Remarks?t.$confirm({title:"确认审核拒绝?",content:"点击确定确认。",onOk:function(){s["a"].post("/api/rsb/Flexible/FlexibleRefuse",{FlexibleGuid:t.visible.orderDetail.FlexibleGuid,Reason:t.Remarks}).then(function(e){0===e.code?(console,t.$message.success(e.msg),t.refresh(),t.onClose()):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}}):t.$message.error("请输入原因！")},pagechange:function(){var t=this,e={FlexibleGuid:t.visible.orderDetail.FlexibleGuid};t.$loading.open(),s["a"].post("/api/rsb/Flexible/GetFlexibleRLZPayList",e).then(function(e){t.$loading.close(),0===e.code&&(t.dataSource=e.data.rows)}).catch(function(e){t.$loading.close(),console.log(e)})},XinJian:function(){this.modal.detail={show:!0,orderDetail:this.visible.orderDetail}},hasPay:function(t){var e=this;this.$confirm({title:"确认已收款?",content:"",onOk:function(){s["a"].post("/api/rsb/Flexible/ChargeFlexiblePay",{FlexiblePayGuid:t.FlexiblePayGuid}).then(function(t){0===t.code?(e.$message.success(t.msg),e.pagechange(1)):e.$message.error(t.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}})}}},f=m,p=(a("b60f"),a("2877")),b=Object(p["a"])(f,i,o,!1,null,"b4cf08ba",null);e["default"]=b.exports},b60f:function(t,e,a){"use strict";var i=a("623b"),o=a.n(i);o.a},dc44:function(t,e,a){}}]);