(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e218f"],{"7cf3":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:600,zIndex:1001,footer:!1},on:{cancel:t.onClose}},[o("template",{slot:"title"},[t._v("\n  调整一级户\n")]),o("div",[o("a-form",{attrs:{form:t.form}},[o("div",{staticClass:"form-box"},[o("a-row",[o("a-col",{attrs:{span:24}},[o("a-form-item",{attrs:{label:"社保账户",labelCol:{span:4},wrapperCol:{span:18}}},[o("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["SBAccountID",{rules:t.FormImportRules.iptSelect}],expression:"['SBAccountID',{rules:FormImportRules.iptSelect}]"}],attrs:{allowClear:!0}},t._l(t.dataAccount,function(e){return o("a-select-option",{key:e.ID},[t._v(t._s(e.AccountName)+"--"+t._s(e.AccountNumber))])}),1)],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-item",{attrs:{label:"运行操作月",labelCol:{span:4},wrapperCol:{span:18}}},[o("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["FirstBillMonth",{initialValue:t.moment(t.nowDate),rules:t.FormImportRules.iptInput}],expression:"['FirstBillMonth',{initialValue:moment(nowDate),rules:FormImportRules.iptInput}]"}],staticStyle:{width:"100%"},attrs:{"disabled-date":t.disabledDate,format:"YYYY-MM-01"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-item",{attrs:{label:"备注",labelCol:{span:4},wrapperCol:{span:18}}},[o("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remarks"],expression:"['Remarks']"}],attrs:{row:"4"}})],1)],1)],1),o("div",{style:{width:"100%",padding:"0px 16px 10px",background:"#fff",borderRadius:"0 0 4px 4px"}},[o("a-button",{staticStyle:{"margin-left":"222px"},attrs:{type:"primary","html-type":"submit"},on:{click:t.save}},[t._v("保存")])],1)],1)])],1)],2)},i=[],s=o("b775"),n=o("c32d"),r=o.n(n),l={props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,detail:{Jishu:"",Startime:""},RuLiZhi:{}},form:this.$form.createForm(this),FormImportRules:{iptInput:[{required:!0,message:"请输入"}],iptSelect:[{required:!0,message:"请选择"}]},moment:r.a,dataAccount:[],accountList:[],nowDate:new Date}},watch:{show:function(t,e){var o=this;o.visible=t}},created:function(){var t=this;this.$watch("show",function(e,o){t.visible=e,t.visible.show&&t.init()})},methods:{onClose:function(){this.visible.show=!1,this.orderDetail={},this.form.resetFields(),this.$parent.refreshfuli(),this.dataAccount=[]},init:function(){var t=this;s["a"].post("/api/company/SBAccount/Detail",{ComServiceGuid:t.visible.detail.ComServiceGuid}).then(function(e){0===e.code&&(t.accountList=e.data.accountList,t.dataAccount=t.sbFilter(t.visible.detail.sbType),1==t.dataAccount.length&&t.form.setFieldsValue({SBAccountID:t.dataAccount[0].ID}))}).catch(function(t){console.log(t)})},save:function(){var t=this,e={};t.form.validateFields(function(o,a){console.log(a),o||(console.log(a),e=a,e.SBGUID=t.visible.detail.SBGUID,e.HandoverType="20",e.FirstBillMonth=r()(a.FirstBillMonth).format("YYYY-MM-01"),t.$loading.open(),s["a"].post("/api/employee/shebao/AgainHandover",e).then(function(e){t.$loading.close(),0===e.code?(t.$message.success(e.msg),t.onClose()):t.$message.error(e.msg)}).catch(function(e){t.$loading.close(),console.log(e)}))})},sbFilter:function(t){var e=this,o=this.accountList.filter(function(o){return o.AccountType==t&&o.CityCode==e.visible.RuLiZhi.CityCode});if(o.length>0)return o},disabledDate:function(t){return t<r()().month(r()().month()-1).endOf("month")}}},c=l,u=o("2877"),d=Object(u["a"])(c,a,i,!1,null,"70caef55",null);e["default"]=d.exports}}]);