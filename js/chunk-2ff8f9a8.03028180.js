(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ff8f9a8","chunk-f6a18eae"],{"0ed1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:e.form,layout:"horizontal"}},[a("div",{class:e.advanced?null:"fold"},[a("a-row",{attrs:{gutter:6}},[a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:e.formSearch.emName,callback:function(t){e.$set(e.formSearch,"emName",t)},expression:"formSearch.emName"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:e.formSearch.emCardID,callback:function(t){e.$set(e.formSearch,"emCardID",t)},expression:"formSearch.emCardID"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.initPage}},[e._v("查询")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,pagination:!1,rowKey:"RLZGUID"},scopedSlots:e._u([{key:"action",fn:function(t,r){return a("span",{staticStyle:{"text-align":"right"}},[0==r.Verify?a("a",{on:{click:function(t){return e.detail(r,"2")}}},[e._v("审核")]):a("a",{on:{click:function(t){return e.detail(r,"1")}}},[e._v("查看")])])}},{key:"Verify",fn:function(t,r){return a("span",{staticStyle:{"text-align":"right"}},[0==r.Verify?a("span",[e._v(e._s(r.VerifyText))]):e._e(),1==r.Verify?a("span",{staticStyle:{color:"green"}},[e._v(e._s(r.VerifyText))]):e._e(),2==r.Verify?a("span",{staticStyle:{color:"red"}},[e._v(e._s(r.VerifyText))]):e._e()])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:e.formSearch.pageSize,total:e.formSearch.total,current:e.formSearch.current},on:{change:e.pagechange}})],1)],2)],1),a("modal-detail",{attrs:{detailObj:e.modal.detail,refresh:e.pagerefresh}})],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("b775"),l=a("fbc1");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var p=[{title:"姓名",dataIndex:"姓名"},{title:"身份证号",dataIndex:"身份证号"},{title:"提交时间",dataIndex:"Subtime"},{title:"状态",scopedSlots:{customRender:"Verify"}},{title:"原因",dataIndex:"VerifyNote"},{title:"操作",scopedSlots:{customRender:"action"}}],f={props:{type:{type:Object,default:function(){return{}}}},components:{ModalDetail:l["default"]},data:function(){return{advanced:!0,columns:p,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0,emCardID:"",emName:""},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],modal:{detail:{show:!1}}}},created:function(){var e=this;e.init()},activated:function(){console.log("刷新");var e=this;e.pagechange(1)},methods:{init:function(){var e=this;e.pagechange(1)},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(e){var t=this,a={};t.formSearch.current=e,a=c({},t.formSearch),t.$loading.open(),i["a"].post("/api/rsb/YiBaoYidiTuiFei/List",a).then(function(e){t.$loading.close(),0===e.code&&(t.dataSource=e.data.rows,t.formSearch.total=e.count)}).catch(function(e){t.$loading.close(),console.log(e)})},detail:function(e,t){this.modal.detail={show:!0,orderDetail:e,ModelType:t}}}},d=f,m=a("2877"),u=Object(m["a"])(d,r,o,!1,null,null,null);t["default"]=u.exports},"7f4b":function(e,t,a){},c4ac:function(e,t,a){"use strict";var r=a("7f4b"),o=a.n(r);o.a},fbc1:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.detailObj.show,maskClosable:!1,width:900,footer:!1},on:{cancel:e.onClose}},[a("template",{slot:"title"},[e._v("\n  "+e._s("1"==e.visible.ModelType?"详情":"审核")+"\n")]),a("a-form",{attrs:{form:e.form}},[a("a-row",{staticStyle:{"margin-bottom":"50px"}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.orderDetail["身份证号"])+"\n          ")])],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"员工姓名",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.orderDetail["姓名"])+"\n          ")])],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"银行",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.orderDetail.BankName)+"\n          ")])],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"账号",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.orderDetail.BankCardNo)+"\n          ")])],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"收款人",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.orderDetail.HaveGJJ)+"\n          ")])],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"申请日期",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.orderDetail.Subtime)+"\n          ")])],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"银行卡照片",labelCol:{span:9},wrapperCol:{span:15}}},[a("img",{attrs:{src:e.orderDetail.ImgBankCard,width:"100%",height:"auto"}})])],1),"1"==e.visible.ModelType?a("a-col",{attrs:{span:24}},[a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"状态",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(1==e.orderDetail.Verify?"审核通过":"审核未通过")+"\n           ")])],1),a("a-col",{attrs:{span:16}},[a("a-form-item",{staticStyle:{"margin-left":"20px"},attrs:{label:"原因",labelCol:{span:4},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.orderDetail.VerifyNote)+"\n          ")])],1)],1):e._e(),"2"==e.visible.ModelType?a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{"margin-left":"20px"},attrs:{label:"原因",labelCol:{span:4},wrapperCol:{span:17}}},[a("a-textarea",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.Remarks,callback:function(t){e.Remarks=t},expression:"Remarks"}})],1)],1):e._e()],1)],1),"2"==e.visible.ModelType?a("div",{style:{position:"absolute",bottom:"0",right:"0",width:"100%",padding:"10px 16px",borderTop:"1px solid #e8e8e8",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:function(t){return e.handleSubmit("2")}}},[e._v("拒绝")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return e.handleSubmit("1")}}},[e._v("通过")])],1):e._e()],2)},o=[],n=a("b775"),i=a("c32d"),l=a.n(i),s={components:{},props:{detailObj:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,orderDetail:{},sbType:{},ChargingCycle:{},ServiceType:{},ModelType:""},form:this.$form.createForm(this),orderDetail:{},modal:{},moment:l.a,Remarks:""}},watch:{detailObj:function(e,t){var a=this;a.visible=e}},created:function(){var e=this;this.$watch("detailObj",function(t,a){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.orderDetail={},this.Remarks="",this.form.resetFields()},init:function(){var e=this;n["a"].post("/api/rsb/YiBaoYidiTuiFei/Info",{ID:e.detailObj.orderDetail.ID}).then(function(t){e.$loading.close(),0===t.code&&(e.orderDetail=t.data.info)}).catch(function(t){e.$loading.close(),console.log(t)})},handleSubmit:function(e){var t=this;"2"!=e||t.Remarks?t.$confirm({title:"确认审核"+("1"==e?"通过":"拒绝")+"?",content:"点击确定确认。",onOk:function(){n["a"].post("/api/rsb/YiBaoYidiTuiFei/Verify",{ID:t.visible.orderDetail.ID,Verify:e,VerifyNote:t.Remarks}).then(function(e){0===e.code?(t.$message.success(e.msg),t.onClose(),t.refresh()):t.$message.error(e.msg)}).catch(function(e){console.log(e)})},onCancel:function(){}}):t.$message.error("请输入原因！")}}},c=s,p=(a("c4ac"),a("2877")),f=Object(p["a"])(c,r,o,!1,null,"581b5d3a",null);t["default"]=f.exports}}]);