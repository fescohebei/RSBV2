(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db411a30","chunk-2a73a220"],{"01ff":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:500,zIndex:1001,centered:!0},on:{cancel:t.onClose,ok:t.handleSubmit}},[a("template",{slot:"title"},[t._v("\n  联系记录导出\n")]),a("a-form",{attrs:{form:t.form}},[a("a-form-item",{attrs:{label:"开始时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["BeginTime",{rules:t.AFormImportRules.iptInput}],expression:"['BeginTime',{rules:AFormImportRules.iptInput}]"}],staticStyle:{width:"260px"},attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTimeBegin}})],1),a("a-form-item",{attrs:{label:"结束时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["EndTime",{rules:t.AFormImportRules.iptInput}],expression:"['EndTime',{rules:AFormImportRules.iptInput}]"}],staticStyle:{width:"260px"},attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTimeEnd}})],1)],1)],2)},o=[],n=a("c32d"),i=a.n(n),c={props:{show:{type:Object,default:function(){return{show:!1}}},Role:{type:String,default:""},refresh:{type:Function,default:null}},data:function(){return{spinning:!1,visible:{show:!1,Role:""},form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},exportData:{EndTime:"",BeginTime:""}}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.visible.show&&t.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){if(!e){var r={};r.BeginTime=t.exportData.BeginTime,r.EndTime=t.exportData.EndTime;var o=document.createElement("a");o.href="/api/Employee/Contact/ExportkfCRList?BeginTime="+r.BeginTime+"&EndTime="+r.EndTime+"&Role="+t.visible.Role,o.click(),t.onClose()}})},changeTimeBegin:function(t){this.exportData.BeginTime=i()(t).format("YYYY-MM-DD")},changeTimeEnd:function(t){this.exportData.EndTime=i()(t).format("YYYY-MM-DD")}}},s=c,l=(a("dd06"),a("2877")),f=Object(l["a"])(s,r,o,!1,null,"2cc2b6c0",null);e["default"]=f.exports},"3c4b":function(t,e,a){},"5dbc":function(t,e,a){var r=a("d3f4"),o=a("8b97").set;t.exports=function(t,e,a){var n,i=e.constructor;return i!==a&&"function"==typeof i&&(n=i.prototype)!==a.prototype&&r(n)&&o&&o(t,n),t}},"8b97":function(t,e,a){var r=a("d3f4"),o=a("cb7c"),n=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,a){return n(t,a),e?t.__proto__=a:r(t,a),t}}({},!1):void 0),check:n}},aa77:function(t,e,a){var r=a("5ca1"),o=a("be13"),n=a("79e5"),i=a("fdef"),c="["+i+"]",s="​",l=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$"),p=function(t,e,a){var o={},c=n(function(){return!!i[t]()||s[t]()!=s}),l=o[t]=c?e(m):i[t];a&&(o[a]=l),r(r.P+r.F*c,"String",o)},m=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(f,"")),t};t.exports=p},ab2d:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:5}},[a("a-form-item",{attrs:{label:"公司名称",labelCol:{span:5},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.ComName,callback:function(e){t.$set(t.formSearch,"ComName",e)},expression:"formSearch.ComName"}})],1)],1),a("a-col",{attrs:{md:5}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:5},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emCardID,callback:function(e){t.$set(t.formSearch,"emCardID",e)},expression:"formSearch.emCardID"}})],1)],1),a("a-col",{attrs:{md:3}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emName,callback:function(e){t.$set(t.formSearch,"emName",e)},expression:"formSearch.emName"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"开始时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.formSearch.BeginTime,callback:function(e){t.$set(t.formSearch,"BeginTime",e)},expression:"formSearch.BeginTime"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"结束时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.formSearch.EndTime,callback:function(e){t.$set(t.formSearch,"EndTime",e)},expression:"formSearch.EndTime"}})],1)],1),a("a-col",{attrs:{span:3}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.initPage}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.exportConnect}},[t._v("导出")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"RLZGUID"},scopedSlots:t._u([{key:"CityCode",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(t.cityList[r.CityCode])+"\n              ")])}},{key:"Userid",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(t.UserArray[r.Userid])+"\n              ")])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2)],1),a("export-connect",{attrs:{show:t.modal.export}})],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=(a("c5f6"),a("b775")),c=a("01ff");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var f=[{title:"姓名",dataIndex:"姓名"},{title:"身份证号",dataIndex:"身份证号"},{title:"参保城市",scopedSlots:{customRender:"CityCode"}},{title:"公司名称",dataIndex:"ComName"},{title:"联系时间",dataIndex:"Contacttime"},{title:"联系内容",dataIndex:"ContactContent"},{title:"下次联系时间",dataIndex:"NextContacttime"},{title:"说明",dataIndex:"explain"},{title:"办理状态",dataIndex:"transactState"},{title:"联系人客服",scopedSlots:{customRender:"Userid"}}],p={props:{type:{type:Object,default:function(){return{}}},role:{type:Number,default:""}},components:{exportConnect:c["default"]},data:function(){return{advanced:!0,columns:f,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],UserArray:{},cityList:{},modal:{export:{show:!1}}}},created:function(){var t=this;t.init()},methods:{init:function(){var t=this;i["a"].post("/api/Dim/Enum/DimDecode",{Names:["User","City"]}).then(function(e){0===e.code&&(t.UserArray=e.data.User,t.cityList=e.data.City,t.pagechange(1))}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,a={};e.formSearch.current=t,a=l({},e.formSearch),a.Role=e.role,e.$loading.open(),i["a"].post("/api/Employee/Contact/kfCRList",a).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},exportConnect:function(){var t=this;this.modal.export={show:!0,Role:t.role}}}},m=p,u=a("2877"),d=Object(u["a"])(m,r,o,!1,null,null,null);e["default"]=d.exports},c5f6:function(t,e,a){"use strict";var r=a("7726"),o=a("69a8"),n=a("2d95"),i=a("5dbc"),c=a("6a99"),s=a("79e5"),l=a("9093").f,f=a("11e9").f,p=a("86cc").f,m=a("aa77").trim,u="Number",d=r[u],h=d,b=d.prototype,g=n(a("2aeb")(b))==u,v="trim"in String.prototype,y=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():m(e,3);var a,r,o,n=e.charCodeAt(0);if(43===n||45===n){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var i,s=e.slice(2),l=0,f=s.length;l<f;l++)if(i=s.charCodeAt(l),i<48||i>o)return NaN;return parseInt(s,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof d&&(g?s(function(){b.valueOf.call(a)}):n(a)!=u)?i(new h(y(e)),a,d):y(e)};for(var S,C=a("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;C.length>x;x++)o(h,S=C[x])&&!o(d,S)&&p(d,S,f(h,S));d.prototype=b,b.constructor=d,a("2aba")(r,u,d)}},dd06:function(t,e,a){"use strict";var r=a("3c4b"),o=a.n(r);o.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);