(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229076"],{dc67:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:600,zIndex:1001,footer:!1},on:{cancel:e.onClose}},[a("template",{slot:"title"},[e._v("\n  调整工资和一级户("+e._s(e.visible.sbType[e.visible.detail.sbType])+")\n")]),a("div",[a("a-form",{attrs:{form:e.form}},[a("div",{staticClass:"form-box"},[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.visible.RuLiZhi["姓名"])+"\n          ")])],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:9},wrapperCol:{span:15}}},[e._v("\n            "+e._s(e.visible.RuLiZhi["身份证号"])+"\n          ")])],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"工资",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Jishu",{initialValue:e.visible.detail.Jishu,rules:e.FormImportRules.iptInput}],expression:"['Jishu',{initialValue:visible.detail.Jishu,rules:FormImportRules.iptInput}]"}]})],1)],1),50==e.visible.detail.sbType?a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"比例",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Bili",{initialValue:e.visible.detail.Bili,rules:e.FormImportRules.iptInput}],expression:"['Bili',{initialValue:visible.detail.Bili,rules:FormImportRules.iptInput}]"}]})],1)],1):e._e(),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"社保账户",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["SBAccountID",{rules:e.FormImportRules.iptSelect}],expression:"['SBAccountID',{rules:FormImportRules.iptSelect}]"}],attrs:{allowClear:!0}},e._l(e.dataAccount,function(t){return a("a-select-option",{key:t.ID},[e._v(e._s(t.AccountName)+"--"+e._s(t.AccountNumber))])}),1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"运行操作月",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["FirstBillMonth",{initialValue:e.moment(e.nowDate),rules:e.FormImportRules.iptInput}],expression:"['FirstBillMonth',{initialValue:moment(nowDate),rules:FormImportRules.iptInput}]"}],staticStyle:{width:"100%"},attrs:{"disabled-date":e.disabledDate,format:"YYYY-MM-01"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:4},wrapperCol:{span:18}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remarks"],expression:"['Remarks']"}],attrs:{row:"4"}})],1)],1)],1),a("div",{style:{width:"100%",padding:"0px 16px 10px",background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{staticStyle:{"margin-left":"222px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.save}},[e._v("保存")])],1)],1)])],1)],2)},o=[],s=a("b775"),l=a("c32d"),r=a.n(l),n={props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,detail:{Jishu:"",Startime:""},RuLiZhi:{},sbType:{}},form:this.$form.createForm(this),FormImportRules:{iptInput:[{required:!0,message:"请输入"}],iptSelect:[{required:!0,message:"请选择"}]},moment:r.a,dataAccount:[],accountList:[],nowDate:new Date}},watch:{show:function(e,t){var a=this;a.visible=e}},created:function(){var e=this;this.$watch("show",function(t,a){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.orderDetail={},this.form.resetFields(),this.$parent.refreshfuli(),this.dataAccount=[]},init:function(){var e=this;s["a"].post("/api/company/SBAccount/Detail",{ComServiceGuid:e.visible.detail.ComServiceGuid}).then(function(t){0===t.code&&(e.accountList=t.data.accountList,e.dataAccount=e.sbFilter(e.visible.detail.sbType),1==e.dataAccount.length&&e.form.setFieldsValue({SBAccountID:e.dataAccount[0].ID}))}).catch(function(e){console.log(e)})},save:function(){var e=this,t={};e.form.validateFields(function(a,i){console.log(i),a||(console.log(i),t=i,t.SBGUID=e.visible.detail.SBGUID,t.HandoverType="30",t.FirstBillMonth=r()(i.FirstBillMonth).format("YYYY-MM-01"),e.$loading.open(),s["a"].post("/api/employee/shebao/AgainHandover",t).then(function(t){e.$loading.close(),0===t.code?(e.$message.success(t.msg),e.onClose()):e.$message.error(t.msg)}).catch(function(t){e.$loading.close(),console.log(t)}))})},sbFilter:function(e){var t=this,a=this.accountList.filter(function(a){return a.AccountType==e&&a.CityCode==t.visible.RuLiZhi.CityCode});if(a.length>0)return a},disabledDate:function(e){return e<r()().month(r()().month()-1).endOf("month")}}},c=n,u=a("2877"),p=Object(u["a"])(c,i,o,!1,null,"9759285a",null);t["default"]=p.exports}}]);