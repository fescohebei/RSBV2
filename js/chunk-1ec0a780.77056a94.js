(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ec0a780","chunk-eb9cb73e","chunk-425eb973","chunk-21fdb3d4","chunk-3853c5dc","chunk-59291e46"],{"2ce6":function(t,e,a){},"31a1":function(t,e,a){"use strict";var o=a("dc44"),r=a.n(o);r.a},"3ff6":function(t,e,a){"use strict";var o=a("926d"),r=a.n(o);r.a},4778:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:600,zIndex:1001,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n   新建联系记录\n ")]),a("a-form",{attrs:{form:t.connectForm}},[a("div",{staticClass:"form-box"},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"下次联系时间",labelCol:{span:4},wrapperCol:{span:8}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["NextContacttime"],expression:"['NextContacttime']"}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{"margin-left":"0px"},attrs:{label:"联系内容",labelCol:{span:4},wrapperCol:{span:20}}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["ContactContent",{rules:t.connectFormImportRules.remark}],expression:"['ContactContent',{rules:connectFormImportRules.remark}]"}],attrs:{placeholder:"联系内容",rows:4}})],1)],1)],1),a("div",{style:{width:"100%",padding:"0px 16px 10px",background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{staticStyle:{"margin-left":"122px"},attrs:{type:"primary","html-type":"submit"},on:{click:t.saveLock}},[t._v("确定")])],1)],1)])],2)},r=[],i=a("b775"),s={props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,sbTypeList:[]},connectForm:this.$form.createForm(this),connectFormImportRules:{remark:[{required:!0,message:"请输入联系内容"}]},ComBranch:[]}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){this.init()},methods:{init:function(){},saveLock:function(){var t=this,e={};t.connectForm.validateFields(function(a,o){a||(e=o,e.PGUID=t.visible.orderDetail.PGUID,t.$loading.open(),i["a"].post("/api/Employee/Contact/FlexibleAdd",e).then(function(e){t.$loading.close(),0===e.code?(t.$message.success(e.msg),t.onClose(),t.refresh()):t.$message.error(e.msg)}).catch(function(e){t.$loading.close(),console.log(e)}))})},onClose:function(){this.visible.show=!1,this.connectForm.resetFields()}}},l=s,n=(a("31a1"),a("2877")),c=Object(n["a"])(l,o,r,!1,null,"41bf2918",null);e["default"]=c.exports},"4d7c":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1e3,zIndex:1001,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n   新员工录入1\n ")]),a("a-form",{attrs:{form:t.connectForm}},[a("div",{staticClass:"form-box"},[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Name",{rules:t.FormImportRules.Name,init:t.init}],expression:"['Name',{rules:FormImportRules.Name,init}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["IdCard",{rules:t.FormImportRules.IdCard}],expression:"['IdCard',{rules:FormImportRules.IdCard}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"手机号",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Mobile",{rules:t.FormImportRules.Mobile}],expression:"['Mobile',{rules:FormImportRules.Mobile}]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"首次申报",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["FirstBillYear",{rules:t.FormImportRules.FirstBillYear,initialValue:t.moment(new Date).format("YYYY")}],expression:"['FirstBillYear',{rules:FormImportRules.FirstBillYear,initialValue:moment(new Date()).format('YYYY') }]"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"是否已收款",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["IsPay",{rules:t.FormImportRules.ylDate}],expression:"['IsPay',{rules:FormImportRules.ylDate}]"}],attrs:{allowClear:!0}},[a("a-select-option",{key:"1"},[t._v("是")]),a("a-select-option",{key:"0"},[t._v("否")])],1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"邮箱",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Email"],expression:"['Email']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"紧急联系人",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["LinkName"],expression:"['LinkName']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"联系人手机号",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["LinkMobile "],expression:"['LinkMobile ']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"户籍所在地",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Huji"],expression:"['Huji']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"邮寄地址",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Address"],expression:"['Address']"}],staticStyle:{width:"100%"},attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"险种",labelCol:{span:3},wrapperCol:{span:18}}},[a("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["ServiceList",{initialValue:[40]}],expression:"['ServiceList',{ initialValue: [40] }]"}],staticStyle:{width:"100%"},on:{change:t.changeSbType}},[a("a-row",[a("a-col",{attrs:{span:4}},[a("a-checkbox",{attrs:{value:40}},[t._v("\n                    医疗\n                     ")])],1),a("a-col",{attrs:{span:4}},[a("a-checkbox",{attrs:{value:10}},[t._v("养老")])],1)],1)],1)],1)],1),t.showYiLiao?a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"医疗补缴",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["YiliaoBeginMonth",{rules:t.FormImportRules.ylDate}],expression:"['YiliaoBeginMonth',{rules:FormImportRules.ylDate}]"}],attrs:{allowClear:!0}},[a("a-select-option",{key:"按政策补缴"},[t._v("按政策补缴")]),a("a-select-option",{key:"不补缴"},[t._v("不补缴")])],1)],1)],1):t._e(),t.showYangLao?a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"养老开始月份",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["YangLaoBeginMonth",{rules:t.FormImportRules.ylDate}],expression:"['YangLaoBeginMonth',{rules:FormImportRules.ylDate}]"}],staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"}})],1)],1):t._e()],1),a("div",{style:{width:"100%",padding:"0px 16px 10px",background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{staticStyle:{"margin-left":"122px"},attrs:{type:"primary","html-type":"submit"},on:{click:t.saveLock}},[t._v("确定")])],1)],1)])],2)},r=[],i=a("b775"),s=a("c32d"),l=a.n(s),n={props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{moment:l.a,visible:{show:!1,orderDetail:{}},connectForm:this.$form.createForm(this),FormImportRules:{Name:[{required:!0,message:"请输入姓名"}],Mobile:[{required:!0,message:"请输入手机号"}],FirstBillYear:[{required:!0,message:"请输入年份"}],IdCard:[{required:!0,message:"请输入身份证号"}],ylDate:[{required:!0,message:"请选择"}]},ComBranch:[],showYiLiao:!0,showYangLao:!1}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){this.init()},methods:{init:function(){},saveLock:function(){var t=this,e={};t.connectForm.validateFields(function(a,o){a||(e=o,e.PGUID=t.visible.orderDetail.PGUID,e.YangLao=t.showYangLao,e.Yiliao=t.showYiLiao,t.$loading.open(),i["a"].post("/api/rsb/Flexible/FlexibleAdd",e).then(function(e){t.$loading.close(),0===e.code?(t.$message.success(e.msg),t.onClose(),t.refresh()):t.$message.error(e.msg)}).catch(function(e){t.$loading.close(),console.log(e)}))})},onClose:function(){this.visible.show=!1,this.connectForm.resetFields(),this.showYiLiao=!0,this.showYangLao=!1},changeSbType:function(t){console.log(t.indexOf(40)),-1!=t.indexOf(40)?this.showYiLiao=!0:this.showYiLiao=!1,-1!=t.indexOf(10)?this.showYangLao=!0:this.showYangLao=!1}}},c=n,d=(a("6a52"),a("2877")),u=Object(d["a"])(c,o,r,!1,null,"5027b566",null);e["default"]=u.exports},"4f57":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:500,zIndex:1001,centered:!0},on:{cancel:t.onClose,ok:t.handleSubmit}},[a("template",{slot:"title"},[t._v("\n  审核通过导出\n")]),a("a-form",{attrs:{form:t.form}},[a("a-form-item",{attrs:{label:"开始时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["Begindate",{rules:t.AFormImportRules.iptInput}],expression:"['Begindate',{rules:AFormImportRules.iptInput}]"}],staticStyle:{width:"260px"},attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTimeBegin}})],1),a("a-form-item",{attrs:{label:"结束时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["Enddate",{rules:t.AFormImportRules.iptInput}],expression:"['Enddate',{rules:AFormImportRules.iptInput}]"}],staticStyle:{width:"260px"},attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTimeEnd}})],1)],1)],2)},r=[],i=a("c32d"),s=a.n(i),l={props:{show:{type:Object,default:function(){return{show:!1}}},Role:{type:String,default:""},refresh:{type:Function,default:null}},data:function(){return{spinning:!1,visible:{show:!1,Role:""},form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},exportData:{Enddate:"",Begindate:""}}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.visible.show&&t.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){if(!e){var o={};o.Begindate=t.exportData.Begindate,o.Enddate=t.exportData.Enddate;var r=document.createElement("a");r.href="/api/rsb/Flexible/ExportList?Begindate="+o.Begindate+"&Enddate="+o.Enddate,r.click(),t.onClose()}})},changeTimeBegin:function(t){this.exportData.Begindate=s()(t).format("YYYY-MM-DD")},changeTimeEnd:function(t){this.exportData.Enddate=s()(t).format("YYYY-MM-DD")}}},n=l,c=(a("9806"),a("2877")),d=Object(c["a"])(n,o,r,!1,null,"2733f28f",null);e["default"]=d.exports},"6a52":function(t,e,a){"use strict";var o=a("9d14"),r=a.n(o);r.a},"6fc2":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1100,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n  "+t._s("1"==t.visible.ModelType?"详情":"审核")+"\n")]),a("div",{staticClass:"tab-title"},[t._v("基本信息")]),a("table",{staticClass:"detail-table",attrs:{border:"1"}},[a("tr",[a("td",[t._v("员工姓名:")]),a("td",[t._v(t._s(t.orderDetail["姓名"]))]),a("td",[t._v("身份证号:")]),a("td",[t._v(t._s(t.orderDetail["身份证号"]))]),a("td",[t._v("首次操作年:")]),a("td",[t._v(t._s(t.orderDetail.FirstBillYear))]),a("td",[t._v("收费至年:")]),a("td",[t._v(t._s(t.orderDetail.EndBillYear))])]),a("tr",[a("td",[t._v("手机号码:")]),a("td",[t._v(t._s(t.orderDetail.Mobile))]),a("td",[t._v("邮箱:")]),a("td",[t._v(t._s(t.orderDetail.Email))]),a("td",[t._v("紧急联系人:")]),a("td",[t._v("\n          "+t._s(t.orderDetail.LinkName)+"\n        ")]),a("td",{staticStyle:{"font-size":"12px"}},[t._v("紧急联系人电话:")]),a("td",[t._v(t._s(t.orderDetail.LinkMobile))])]),a("tr",[a("td",[t._v("参保项:")]),a("td",[t._v(t._s(t.orderDetail["参保项"]))]),a("td",{staticStyle:{"font-size":"12px"}},[t._v("养老起始时间:")]),a("td",[t._v(t._s(t.orderDetail["养老起始时间"]))]),a("td",{staticStyle:{"font-size":"12px"}},[t._v("医疗是否补缴:")]),a("td",[t._v(t._s(t.orderDetail["医疗是否补缴"]))]),a("td",[t._v("提交时间:")]),a("td",[t._v("\n          "+t._s(t.orderDetail.CreateTime)+"\n        ")])]),a("tr",[a("td",[t._v("审核状态:")]),a("td",[t._v(t._s(t.orderDetail.StatusStr))]),a("td",[t._v("审核人:")]),a("td",[t._v("\n          "+t._s(t.orderDetail.VerifyUserID)+"\n        ")]),a("td",[t._v("审核时间:")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.orderDetail.VerifyTime))])]),a("tr",[a("td",[t._v("户籍:")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.orderDetail.Huji))]),a("td",[t._v("邮寄地址:")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.orderDetail.Address))])]),a("tr",[a("td",[t._v("身份证正面:")]),a("td",{attrs:{colspan:"3"}},[null!=t.orderDetail.img_zheng?a("img",{attrs:{src:t.orderDetail.img_zhengUrl,width:"150px",height:"auto"}}):t._e()]),a("td",[t._v("身份证反面:")]),a("td",{attrs:{colspan:"3"}},[null!=t.orderDetail.img_fan?a("img",{attrs:{src:t.orderDetail.img_fanUrl,width:"150px",height:"auto"}}):t._e()])]),a("tr",[a("td",[t._v("审核备注")]),a("td",{attrs:{colspan:"7"}},[t._v(t._s(t.orderDetail.VerifyReason))])])]),a("a-form",{attrs:{form:t.form}},[a("a-row",{staticStyle:{"margin-bottom":"50px"}},[a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[t._v("社保记录")]),a("a-table",{attrs:{columns:t.sbcolumns,dataSource:t.sbdataSource,pagination:!1,rowKey:"FlexibleServiceGuid",size:"middle"}})],1),a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[t._v("联系记录"),a("a-button",{staticStyle:{"margin-left":"10px",float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.XinJian}},[t._v("新建联系记录")])],1),a("a-table",{attrs:{columns:t.Contactcolumns,dataSource:t.ContactdataSource,pagination:!1,rowKey:"index",size:"middle"}})],1),a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[t._v("缴费记录")]),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"index",size:"middle"},scopedSlots:t._u([{key:"action",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[0==o.ChargeStatus?a("a",{on:{click:function(e){return t.hasPay(o)}}},[t._v("收款")]):t._e()])}}])})],1),"2"==t.visible.ModelType?a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{margin:"20px 0 0"},attrs:{label:"原因",labelCol:{span:1},wrapperCol:{span:23}}},[a("a-textarea",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.Remarks,callback:function(e){t.Remarks=e},expression:"Remarks"}})],1)],1):t._e()],1)],1),"2"==t.visible.ModelType?a("div",{style:{position:"absolute",bottom:"0",right:"0",width:"100%",padding:"10px 16px",borderTop:"1px solid #e8e8e8",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:function(e){return t.FlexibleRefuse()}}},[t._v("拒绝")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(e){return t.handleSubmit("1")}}},[t._v("通过")])],1):t._e(),a("modal-connect-add",{attrs:{show:t.modal.detail,refresh:t.init}})],2)},r=[],i=a("b775"),s=a("4778"),l=a("c32d"),n=a.n(l),c=[{title:"缴费状态",dataIndex:"ChargeStatusStr"},{title:"缴费时间",dataIndex:"Chargetime"},{title:"参保年度",dataIndex:"参保年度"},{title:"缴费金额",dataIndex:"Amount"},{title:"订单号",dataIndex:"out_trade_no"},{title:"退费时间",dataIndex:"RefundTime"},{title:"创建时间",dataIndex:"Createtime"},{title:"备注信息",dataIndex:"Remarks"},{title:"操作",scopedSlots:{customRender:"action"}}],d=[{title:"类型",dataIndex:"sbtypeStr"},{title:"增员状态",dataIndex:"AddStatusStr"},{title:"开始时间",dataIndex:"BeginMonth"},{title:"增员月份",dataIndex:"AddSBDate"},{title:"增员备注",dataIndex:"AddRemark"},{title:"减员状态",dataIndex:"SubStatusStr"},{title:"减员月份",dataIndex:"SubSBDate"},{title:"减员备注",dataIndex:"SubRemark"},{title:"社保账号",dataIndex:"SBAccount"}],u=[{title:"时间",dataIndex:"Contacttime"},{title:"下次联系时间",dataIndex:"NextContacttime"},{title:"内容",dataIndex:"ContactContent"}],m={components:{ModalConnectAdd:s["default"]},props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,orderDetail:{},sbType:{},ChargingCycle:{},ServiceType:{},ModelType:""},form:this.$form.createForm(this),orderDetail:{},columns:c,sbcolumns:d,Contactcolumns:u,modal:{detail:{show:!1}},dataSource:[],sbdataSource:[],ContactdataSource:[],moment:n.a,Remarks:""}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.visible.show&&(t.init(),t.pagechange())})},methods:{onClose:function(){this.visible.show=!1,this.orderDetail={},this.Remarks="",this.form.resetFields()},init:function(){var t=this;i["a"].post("/api/rsb/Flexible/Info",{guid:t.visible.orderDetail.FlexibleGuid}).then(function(e){t.$loading.close(),0===e.code&&(t.orderDetail=e.data.info,t.sbdataSource=e.data.sbService,t.ContactdataSource=e.data.contactList)}).catch(function(e){t.$loading.close(),console.log(e)})},handleSubmit:function(t){var e=this;"2"!=t||e.Remarks?e.$confirm({title:"确认审核"+("1"==t?"通过":"拒绝")+"?",content:"点击确定确认。",onOk:function(){i["a"].post("/api/rsb/Flexible/FlexiblePass",{FlexibleGuid:e.visible.orderDetail.FlexibleGuid,Verify:t,Reason:e.Remarks}).then(function(t){0===t.code?(e.$message.success(t.msg),e.refresh(),e.onClose()):e.$message.error(t.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}}):e.$message.error("请输入原因！")},FlexibleRefuse:function(){var t=this;t.Remarks?t.$confirm({title:"确认审核拒绝?",content:"点击确定确认。",onOk:function(){i["a"].post("/api/rsb/Flexible/FlexibleRefuse",{FlexibleGuid:t.visible.orderDetail.FlexibleGuid,Reason:t.Remarks}).then(function(e){0===e.code?(console,t.$message.success(e.msg),t.refresh(),t.onClose()):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}}):t.$message.error("请输入原因！")},pagechange:function(){var t=this,e={FlexibleGuid:t.visible.orderDetail.FlexibleGuid};t.$loading.open(),i["a"].post("/api/rsb/Flexible/GetFlexibleRLZPayList",e).then(function(e){t.$loading.close(),0===e.code&&(t.dataSource=e.data.rows)}).catch(function(e){t.$loading.close(),console.log(e)})},XinJian:function(){this.modal.detail={show:!0,orderDetail:this.visible.orderDetail}},hasPay:function(t){var e=this;this.$confirm({title:"确认已收款?",content:"",onOk:function(){i["a"].post("/api/rsb/Flexible/ChargeFlexiblePay",{FlexiblePayGuid:t.FlexiblePayGuid}).then(function(t){0===t.code?(e.$message.success(t.msg),e.pagechange(1)):e.$message.error(t.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}})}}},p=m,f=(a("da8c"),a("2877")),h=Object(f["a"])(p,o,r,!1,null,"634cc89a",null);e["default"]=h.exports},"844d":function(t,e,a){},"85c6":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:400,zIndex:1001,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n   锁定\n   ")]),a("a-form",{attrs:{form:t.connectForm}},[a("div",{staticClass:"form-box"},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"月份",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["nianyue",{rules:t.connectFormImportRules.selectReq}],expression:"['nianyue',{rules:connectFormImportRules.selectReq}]"}],staticStyle:{width:"100%"},attrs:{allowClear:!1,placeholder:"请选择月份"}})],1)],1)],1),a("div",{style:{width:"100%",padding:"0px 16px 10px",background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{staticStyle:{"margin-left":"122px"},attrs:{type:"primary","html-type":"submit"},on:{click:t.saveLock}},[t._v("确定")])],1)],1)])],2)},r=[],i=a("b775"),s={props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,orderDetail:{}},connectForm:this.$form.createForm(this),connectFormImportRules:{selectReq:[{required:!0,message:"请选择"}]},ComBranch:[]}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){this.init()},methods:{init:function(){},saveLock:function(){var t=this,e={};t.connectForm.validateFields(function(a,o){a||(e=o,e.FlexibleGuid=t.visible.orderDetail.FlexibleGuid,e.nianyue=moment(o.nianyue).format("YYYYMM"),t.$loading.open(),i["a"].post("/api/rsb/Flexible/FlexibleSub",e).then(function(e){t.$loading.close(),0===e.code?(t.$message.success(e.msg),t.onClose(),t.refresh()):t.$message.error(e.msg)}).catch(function(e){t.$loading.close(),console.log(e)}))})},onClose:function(){this.visible.show=!1,this.connectForm.resetFields()}}},l=s,n=(a("3ff6"),a("2877")),c=Object(n["a"])(l,o,r,!1,null,"25664890",null);e["default"]=c.exports},"926d":function(t,e,a){},9806:function(t,e,a){"use strict";var o=a("844d"),r=a.n(o);r.a},"9d14":function(t,e,a){},da8c:function(t,e,a){"use strict";var o=a("2ce6"),r=a.n(o);r.a},dc44:function(t,e,a){},e901:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",{attrs:{gutter:6}},[a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emName,callback:function(e){t.$set(t.formSearch,"emName",e)},expression:"formSearch.emName"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emCardID,callback:function(e){t.$set(t.formSearch,"emCardID",e)},expression:"formSearch.emCardID"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"审核状态",labelCol:{span:10},wrapperCol:{span:13}}},[a("a-select",{attrs:{allowClear:!1},model:{value:t.formSearch.FlexibleStatus,callback:function(e){t.$set(t.formSearch,"FlexibleStatus",e)},expression:"formSearch.FlexibleStatus"}},[a("a-select-option",{key:""},[t._v("全部")]),t._l(t.FlexibleStatusList,function(e){return a("a-select-option",{key:e.key},[t._v(t._s(e.text))])})],2)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.initPage}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.adddetail}},[t._v("新建")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.exportQgbill}},[t._v("导出")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"FlexibleGuid"},scopedSlots:t._u([{key:"action",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[0==o.Status?a("a",{on:{click:function(e){return t.detail(o,"2")}}},[t._v("审核")]):t._e(),1==o.Status?a("a",{on:{click:function(e){return t.subdetail(o)}}},[t._v("派减")]):t._e(),0==o.Status||1==o.Status?a("a-divider",{attrs:{type:"vertical"}}):t._e(),a("a",{on:{click:function(e){return t.detail(o,"1")}}},[t._v("查看")])],1)}},{key:"StatusStr",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[0==o.Status?a("span",[t._v(t._s(o.StatusStr))]):t._e(),1==o.Status?a("span",{staticStyle:{color:"green"}},[t._v(t._s(o.StatusStr))]):t._e(),2==o.Status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(o.StatusStr))]):t._e(),3==o.Status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(o.StatusStr))]):t._e()])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2)],1),a("modal-detail",{attrs:{show:t.modal.detail,refresh:t.pagerefresh}}),a("modal-add",{attrs:{show:t.modal.adddetail,refresh:t.pagerefresh}}),a("modal-sub",{attrs:{show:t.modal.subdetail,refresh:t.pagerefresh}}),a("export-bill",{attrs:{show:t.modal.exportBill}})],1)],1)},r=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=a("b775"),l=a("6fc2"),n=a("4d7c"),c=a("85c6"),d=a("4f57");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var p=[{title:"状态",scopedSlots:{customRender:"StatusStr"}},{title:"姓名",dataIndex:"姓名"},{title:"身份证号",dataIndex:"身份证号"},{title:"提交时间",dataIndex:"Subtime"},{title:"电话",dataIndex:"Mobile"},{title:"是否做养老",dataIndex:"IsYanglao"},{title:"是否做医疗",dataIndex:"IsYiliao"},{title:"首次收费年",dataIndex:"FirstBillYear"},{title:"收费截止年",dataIndex:"EndBillYear"},{title:"操作",scopedSlots:{customRender:"action"},align:"center"}],f={components:{ModalDetail:l["default"],ModalAdd:n["default"],ModalSub:c["default"],exportBill:d["default"]},props:{type:{type:Object,default:function(){return{}}}},data:function(){return{advanced:!0,columns:p,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0,emCardID:"",FlexibleStatus:"",emName:""},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],FlexibleStatusList:[],modal:{detail:{show:!1},adddetail:{show:!1},subdetail:{show:!1},exportBill:{show:!1}}}},created:function(){var t=this;t.init()},activated:function(){console.log("刷新");var t=this;t.pagechange(1)},methods:{init:function(){var t=this;s["a"].post("/api/Dim/Enum/GetEnum",{Names:["FlexibleStatus"]}).then(function(e){0===e.code?(t.FlexibleStatusList=e.data.FlexibleStatus,t.pagechange(1)):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,a={};e.formSearch.current=t,a=m({},e.formSearch),e.$loading.open(),s["a"].post("/api/rsb/Flexible/List",a).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},detail:function(t,e){this.modal.detail={show:!0,orderDetail:t,ModelType:e}},adddetail:function(t){this.modal.adddetail={show:!0,orderDetail:t}},subdetail:function(t){this.modal.subdetail={show:!0,orderDetail:t}},exportQgbill:function(){this.modal.exportBill={show:!0}}}},h=f,b=a("2877"),v=Object(b["a"])(h,o,r,!1,null,null,null);e["default"]=v.exports}}]);