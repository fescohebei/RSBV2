(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48297580"],{4918:function(e,t,a){"use strict";var i=a("6a5e"),s=a.n(i);s.a},"6a5e":function(e,t,a){},"7e7a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1100,footer:!1},on:{cancel:e.onClose}},[a("template",{slot:"title"},[e._v("\n  "+e._s("1"==e.visible.ModelType?"详情":"审核")+"\n")]),a("div",{staticClass:"tab-title"},[e._v("基本信息")]),a("table",{staticClass:"detail-table",attrs:{border:"1"}},[a("tr",[a("td",[e._v("员工姓名:")]),a("td",[e._v(e._s(e.orderDetail["姓名"]))]),a("td",[e._v("身份证号:")]),a("td",[e._v(e._s(e.orderDetail["身份证号"]))]),a("td",[e._v("户籍:")]),a("td",[e._v(e._s(e.orderDetail.Huji))]),a("td",[e._v("邮寄地址:")]),a("td",[e._v(e._s(e.orderDetail.Address))])]),a("tr",[a("td",[e._v("手机号码:")]),a("td",[e._v(e._s(e.orderDetail.Mobile))]),a("td",[e._v("提交时间:")]),a("td",[e._v("\n          "+e._s(e.orderDetail.Subtime)+"\n        ")]),a("td",[e._v("是否做养老:")]),a("td",[e._v(e._s(e.orderDetail.IsYanglao))]),a("td",[e._v("是否做医疗:")]),a("td",[e._v(e._s(e.orderDetail.IsYiliao))])]),a("tr",[a("td",[e._v("审核时间:")]),a("td",[e._v(e._s(e.orderDetail.StatusTime))]),a("td",[e._v("审核人:")]),a("td",[e._v("\n          "+e._s(e.orderDetail.userName)+"\n        ")]),a("td",[e._v("审核状态:")]),a("td",[e._v(e._s(e.orderDetail.StatusStr))]),a("td"),a("td")]),a("tr",[a("td",[e._v("身份证正面:")]),a("td",{attrs:{colspan:"3"}},[a("img",{attrs:{src:e.orderDetail.img_zheng,width:"150px",height:"auto"}})]),a("td",[e._v("身份证反面:")]),a("td",{attrs:{colspan:"3"}},[a("img",{attrs:{src:e.orderDetail.img_fan,width:"150px",height:"auto"}})])])]),a("a-form",{attrs:{form:e.form}},[a("a-row",{staticStyle:{"margin-bottom":"50px"}},[a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[e._v("缴费记录")]),a("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,pagination:!1,rowKey:"index",size:"middle"}})],1),"1"==e.visible.ModelType?a("a-col",{attrs:{span:24}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{margin:"10px 0 0"},attrs:{label:"状态",labelCol:{span:1},wrapperCol:{span:15}}},[e._v("\n              "+e._s(1==e.orderDetail.Status?"审核通过":"审核未通过")+"\n            ")])],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"原因",labelCol:{span:1},wrapperCol:{span:15}}},[e._v("\n              "+e._s(e.orderDetail.Reason)+"\n            ")])],1)],1):e._e(),"2"==e.visible.ModelType?a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{margin:"20px 0 0"},attrs:{label:"原因",labelCol:{span:1},wrapperCol:{span:23}}},[a("a-textarea",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.Remarks,callback:function(t){e.Remarks=t},expression:"Remarks"}})],1)],1):e._e()],1)],1),"2"==e.visible.ModelType?a("div",{style:{position:"absolute",bottom:"0",right:"0",width:"100%",padding:"10px 16px",borderTop:"1px solid #e8e8e8",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:function(t){return e.FlexibleRefuse()}}},[e._v("拒绝")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return e.handleSubmit("1")}}},[e._v("通过")])],1):e._e()],2)},s=[],o=a("b775"),l=a("c32d"),r=a.n(l),n=[{title:"缴费状态",dataIndex:"ChargeStatusStr"},{title:"缴费时间",dataIndex:"Chargetime"},{title:"参保年度",dataIndex:"参保年度"},{title:"缴费金额",dataIndex:"Amount"},{title:"订单号",dataIndex:"out_trade_no"},{title:"退费时间",dataIndex:"RefundTime"},{title:"创建时间",dataIndex:"Createtime"},{title:"备注信息",dataIndex:"Remarks"}],d={components:{},props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,orderDetail:{},sbType:{},ChargingCycle:{},ServiceType:{},ModelType:""},form:this.$form.createForm(this),orderDetail:{},columns:n,modal:{},dataSource:[],moment:r.a,Remarks:""}},watch:{show:function(e,t){var a=this;a.visible=e}},created:function(){var e=this;this.$watch("show",function(t,a){e.visible=t,e.visible.show&&(e.init(),e.pagechange())})},methods:{onClose:function(){this.visible.show=!1,this.orderDetail={},this.Remarks="",this.form.resetFields()},init:function(){var e=this;o["a"].post("/api/rsb/Flexible/WechatInfo",{guid:e.visible.orderDetail.FlexibleGuid}).then(function(t){e.$loading.close(),0===t.code&&(e.orderDetail=t.data.info)}).catch(function(t){e.$loading.close(),console.log(t)})},handleSubmit:function(e){var t=this;"2"!=e||t.Remarks?t.$confirm({title:"确认审核"+("1"==e?"通过":"拒绝")+"?",content:"点击确定确认。",onOk:function(){o["a"].post("/api/rsb/Flexible/FlexiblePass",{FlexibleGuid:t.visible.orderDetail.FlexibleGuid,Verify:e,Reason:t.Remarks}).then(function(e){0===e.code?(t.$message.success(e.msg),t.refresh(),t.onClose()):t.$message.error(e.msg)}).catch(function(e){console.log(e)})},onCancel:function(){}}):t.$message.error("请输入原因！")},FlexibleRefuse:function(){var e=this;e.Remarks?e.$confirm({title:"确认审核拒绝?",content:"点击确定确认。",onOk:function(){o["a"].post("/api/rsb/Flexible/FlexibleRefuse",{FlexibleGuid:e.visible.orderDetail.FlexibleGuid,Reason:e.Remarks}).then(function(t){0===t.code?(console,e.$message.success(t.msg),e.refresh(),e.onClose()):e.$message.error(t.msg)}).catch(function(e){console.log(e)})},onCancel:function(){}}):e.$message.error("请输入原因！")},pagechange:function(){var e=this,t={FlexibleGuid:e.visible.orderDetail.FlexibleGuid};e.$loading.open(),o["a"].post("/api/rsb/Flexible/GetFlexiblePayList",t).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows)}).catch(function(t){e.$loading.close(),console.log(t)})}}},c=d,u=(a("4918"),a("2877")),m=Object(u["a"])(c,i,s,!1,null,"599e5e46",null);t["default"]=m.exports}}]);