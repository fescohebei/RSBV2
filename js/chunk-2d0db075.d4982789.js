(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db075"],{"6db3":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",{attrs:{gutter:6}},[a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"城市",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.Keyword,callback:function(e){t.$set(t.formSearch,"Keyword",e)},expression:"formSearch.Keyword"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.initPage}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.addcityrate}},[t._v("添加")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"CityCode"},scopedSlots:t._u([{key:"CityCode",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(t.cityList[o.CityCode])+"\n              ")])}},{key:"bilis",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[t._l(o.bilis,function(e,r){return[a("span",{key:r},[t._v(t._s(e.Bili))]),o.bilis.length>1&&r!=o.bilis.length-1?[t._v(",")]:t._e()]})],2)}},{key:"action",fn:function(e){return a("span",{staticStyle:{"text-align":"right"}},[a("a",{on:{click:function(a){return t.deleteCity(e)}}},[t._v("删除")])])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2)],1),a("modal-addcityrate",{attrs:{show:t.modal.addcityrate,refresh:t.pagerefresh}})],1)],1)},r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("b775"),c=a("5a5e");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var u=[{title:"城市",scopedSlots:{customRender:"CityCode"}},{title:"公积金比例",scopedSlots:{customRender:"bilis"}},{title:"操作",scopedSlots:{customRender:"action"}}],d={props:{type:{type:Object,default:function(){return{}}}},components:{ModalAddcityrate:c["default"]},data:function(){return{advanced:!0,columns:u,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0,Keyword:""},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],modal:{addcityrate:{show:!1}},moment:moment,cityList:[]}},created:function(){var t=this;t.init()},activated:function(){console.log("刷新");var t=this;t.pagechange(1)},methods:{init:function(){var t=this;i["a"].post("/api/Dim/Enum/DimDecode",{Names:["City"]}).then(function(e){0===e.code&&(t.cityList=e.data.City,t.initPage())}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,a={};e.formSearch.current=t,a=l({},e.formSearch),e.$loading.open(),i["a"].post("/api/company/service/CityGJJBLList",a).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},addcityrate:function(t,e){this.modal.addcityrate={show:!0,orderDetail:t,ModelType:e,ShebaoOrderItemStatus:this.ShebaoOrderItemStatus,ShebaoOrderStatus:this.ShebaoOrderStatus,sbType:this.sbType}},deleteCity:function(t){var e=this;e.$confirm({title:"确认删除这条信息?",content:"点击确定删除。",onOk:function(){i["a"].post("/api/company/service/DelCityGJJBL",{CityCode:t.CityCode}).then(function(t){0===t.code?(e.$message.success(t.msg),e.initPage()):e.$message.error(t.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}})}}},f=d,p=a("2877"),m=Object(p["a"])(f,o,r,!1,null,null,null);e["default"]=m.exports}}]);