(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d56c94f","chunk-0ab64a35"],{8636:function(t,e,a){"use strict";var r=a("bc81"),o=a.n(r);o.a},bc81:function(t,e,a){},ca5d:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:600,zIndex:1001,footer:!1,centered:!0},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n  单减社保导入\n")]),a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("a-row",{attrs:{gutter:11}},[a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"",labelCol:{span:7},wrapperCol:{span:254}}},[a("a-spin",{attrs:{tip:"上传中",spinning:t.spinning}},[a("a-upload-dragger",{attrs:{name:"file",multiple:!1,action:"/api/Company/uploadfile/ShebaoDanJianImport",accept:".xls, .xlsx",showUploadList:!1,withCredentials:!0,beforeUpload:t.uploadbefore},on:{change:t.uploadchange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[t._v("\n                    将文件拖到此处，或\n                    "),a("a-tag",{attrs:{color:"#2db7f5"}},[t._v("点击上传")])],1),a("p",{staticClass:"ant-upload-hint"},[t._v("只能上传xls/xlsx文件")])])],1)],1)],1)],1)],1),a("a-modal",{attrs:{destroyOnClose:!0,visible:this.errorShow,maskClosable:!1,width:400,zIndex:1001,footer:!1,centered:!0},on:{cancel:t.onCloseError}},[a("template",{slot:"title"},[t._v("\n        增员派单导入失败\n      ")]),a("a-row",t._l(t.errorlist,function(e,r){return a("a-col",{key:r,attrs:{span:22}},[t._v(t._s(r+1)+". "+t._s(e.msg))])}),1),a("a-tag",{staticStyle:{"margin-top":"15px"},attrs:{color:"red"}},[t._v("\n        请修改后重新导入！！！\n      ")])],2)],2)},o=[],n=(a("b775"),a("c32d"),{props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{spinning:!1,visible:{show:!1,sbDetail:{},sbType:{},DoTypeArray:[]},form:this.$form.createForm(this),AFormImportRules:{},assetsdetail:{},errdatarows:[],errorShow:!1,errorlist:[]}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.visible.show&&t.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){},uploadbefore:function(t){var e=this;this.form.validateFields(function(t,a){var r=!t;r&&(e.spinning=!0)})},uploadchange:function(t){var e=t.file,a=t.fileList;t.event;if("uploading"!==e.status&&console.log(e,a),"done"==e.status){var r=e.response;r.code>0?(this.$message.error(r.msg),r.data&&(this.errdatarows=r.data)):r.data.rows.length>0&&""!=r.data.rows[0].msg?(this.errorlist=r.data.rows,this.errorShow=!0):(this.$message.success("导入成功"),this.refresh(),this.onClose())}this.spinning=!1},onCloseError:function(){this.errorShow=!1}}}),s=n,i=(a("8636"),a("2877")),l=Object(i["a"])(s,r,o,!1,null,"7b299615",null);e["default"]=l.exports},dc6d:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"开始时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.formSearch.BeginTime,callback:function(e){t.$set(t.formSearch,"BeginTime",e)},expression:"formSearch.BeginTime"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"结束时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.formSearch.EndTime,callback:function(e){t.$set(t.formSearch,"EndTime",e)},expression:"formSearch.EndTime"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.initPage}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"upload"},on:{click:t.djUpload}},[t._v("单减社保导入")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"FIGUID"},scopedSlots:t._u([{key:"CreateUserID",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(t.UserArray[r.CreateUserID])+"\n              ")])}},{key:"action",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[a("a",{on:{click:function(e){return t.exportConnect(r)}}},[t._v(t._s(r.OldFileName))])])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2)],1),a("dj-upload",{attrs:{show:t.modal.djUpload,refresh:t.initPage}})],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=a("b775"),i=a("ca5d");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(a,!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var d=[{title:"描述",dataIndex:"Des"},{title:"派单时间",dataIndex:"CreateTime"},{title:"派单客服",scopedSlots:{customRender:"CreateUserID"}},{title:"操作",scopedSlots:{customRender:"action"}}],p={props:{type:{type:Object,default:function(){return{}}}},components:{djUpload:i["default"]},data:function(){return{advanced:!0,columns:d,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0,Des:"单减社保导入"},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],UserArray:{},cityList:{},modal:{djUpload:{show:!1}}}},created:function(){var t=this;t.init()},methods:{init:function(){var t=this;s["a"].post("/api/Dim/Enum/DimDecode",{Names:["User","City"]}).then(function(e){0===e.code&&(t.UserArray=e.data.User,t.cityList=e.data.City,t.pagechange(1))}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,a={};e.formSearch.current=t,a=c({},e.formSearch),e.$loading.open(),s["a"].post("/api/Company/UploadFile/List",a).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},exportConnect:function(t){var e=document.createElement("a");e.href="/api/Company/UploadFile/DownLoad?FIGUID="+t.FIGUID,e.click()},djUpload:function(){this.modal.djUpload={show:!0}}}},u=p,f=a("2877"),h=Object(f["a"])(u,r,o,!1,null,null,null);e["default"]=h.exports}}]);