(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc1af5c8","chunk-db411a30","chunk-3f21affe","chunk-2a73a220"],{"01ff":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:500,zIndex:1001,centered:!0},on:{cancel:t.onClose,ok:t.handleSubmit}},[r("template",{slot:"title"},[t._v("\n  联系记录导出\n")]),r("a-form",{attrs:{form:t.form}},[r("a-form-item",{attrs:{label:"开始时间",labelCol:{span:6},wrapperCol:{span:16}}},[r("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["BeginTime",{rules:t.AFormImportRules.iptInput}],expression:"['BeginTime',{rules:AFormImportRules.iptInput}]"}],staticStyle:{width:"260px"},attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTimeBegin}})],1),r("a-form-item",{attrs:{label:"结束时间",labelCol:{span:6},wrapperCol:{span:16}}},[r("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["EndTime",{rules:t.AFormImportRules.iptInput}],expression:"['EndTime',{rules:AFormImportRules.iptInput}]"}],staticStyle:{width:"260px"},attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTimeEnd}})],1)],1)],2)},n=[],o=r("c32d"),i=r.n(o),c={props:{show:{type:Object,default:function(){return{show:!1}}},Role:{type:String,default:""},refresh:{type:Function,default:null}},data:function(){return{spinning:!1,visible:{show:!1,Role:""},form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},exportData:{EndTime:"",BeginTime:""}}},watch:{show:function(t,e){var r=this;r.visible=t}},created:function(){var t=this;this.$watch("show",function(e,r){t.visible=e,t.visible.show&&t.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){},handleSubmit:function(){var t=this;this.form.validateFields(function(e,r){if(!e){var a={};a.BeginTime=t.exportData.BeginTime,a.EndTime=t.exportData.EndTime;var n=document.createElement("a");n.href="/api/Employee/Contact/ExportkfCRList?BeginTime="+a.BeginTime+"&EndTime="+a.EndTime+"&Role="+t.visible.Role,n.click(),t.onClose()}})},changeTimeBegin:function(t){this.exportData.BeginTime=i()(t).format("YYYY-MM-DD")},changeTimeEnd:function(t){this.exportData.EndTime=i()(t).format("YYYY-MM-DD")}}},s=c,l=(r("dd06"),r("2877")),u=Object(l["a"])(s,a,n,!1,null,"2cc2b6c0",null);e["default"]=u.exports},"3c4b":function(t,e,r){},"5b97":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("List",{attrs:{role:79}})},n=[],o=r("ab2d"),i={components:{List:o["default"]},data:function(){return{}},mounted:function(){},methods:{}},c=i,s=r("2877"),l=Object(s["a"])(c,a,n,!1,null,null,null);e["default"]=l.exports},"5dbc":function(t,e,r){var a=r("d3f4"),n=r("8b97").set;t.exports=function(t,e,r){var o,i=e.constructor;return i!==r&&"function"==typeof i&&(o=i.prototype)!==r.prototype&&a(o)&&n&&n(t,o),t}},"8b97":function(t,e,r){var a=r("d3f4"),n=r("cb7c"),o=function(t,e){if(n(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:a(t,r),t}}({},!1):void 0),check:o}},aa77:function(t,e,r){var a=r("5ca1"),n=r("be13"),o=r("79e5"),i=r("fdef"),c="["+i+"]",s="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),f=function(t,e,r){var n={},c=o(function(){return!!i[t]()||s[t]()!=s}),l=n[t]=c?e(p):i[t];r&&(n[r]=l),a(a.P+a.F*c,"String",n)},p=f.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},ab2d:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-layout",[r("a-layout-content",[r("a-card",{attrs:{bordered:!1}},[r("div",[r("a-form",{attrs:{form:t.form,layout:"horizontal"}},[r("div",{class:t.advanced?null:"fold"},[r("a-row",{attrs:{gutter:10}},[r("a-col",{attrs:{md:4,lg:4,xl:7,xxl:5}},[r("a-form-item",{attrs:{label:"公司名称",labelCol:{span:6},wrapperCol:{span:17}}},[r("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.ComName,callback:function(e){t.$set(t.formSearch,"ComName",e)},expression:"formSearch.ComName"}})],1)],1),r("a-col",{attrs:{md:4,lg:4,xl:7,xxl:5}},[r("a-form-item",{attrs:{label:"身份证号",labelCol:{span:6},wrapperCol:{span:17}}},[r("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emCardID,callback:function(e){t.$set(t.formSearch,"emCardID",e)},expression:"formSearch.emCardID"}})],1)],1),r("a-col",{attrs:{md:4,lg:4,xl:4,xxl:3}},[r("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:17}}},[r("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emName,callback:function(e){t.$set(t.formSearch,"emName",e)},expression:"formSearch.emName"}})],1)],1),r("a-col",{attrs:{md:4,lg:4,xl:6,xxl:4}},[r("a-form-item",{attrs:{label:"开始时间",labelCol:{span:7},wrapperCol:{span:16}}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.formSearch.BeginTime,callback:function(e){t.$set(t.formSearch,"BeginTime",e)},expression:"formSearch.BeginTime"}})],1)],1),r("a-col",{attrs:{md:4,lg:4,xl:7,xxl:4}},[r("a-form-item",{attrs:{label:"结束时间",labelCol:{span:6},wrapperCol:{span:17}}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD"},model:{value:t.formSearch.EndTime,callback:function(e){t.$set(t.formSearch,"EndTime",e)},expression:"formSearch.EndTime"}})],1)],1),r("a-col",{attrs:{md:4,lg:4,xl:7,xxl:3}},[r("a-form-item",[r("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.initPage}},[t._v("查询")]),r("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.exportConnect}},[t._v("导出")])],1)],1)],1)],1)])],1),r("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"RLZGUID"},scopedSlots:t._u([{key:"userName",fn:function(e,a){return r("span",{staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(a["姓名"])),r("br"),t._v(t._s(a["身份证号"])+"\n              ")])}},{key:"CityCode",fn:function(e,a){return r("span",{staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(t.cityList[a.CityCode])+"\n              ")])}},{key:"Userid",fn:function(e,a){return r("span",{staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(t.UserArray[a.Userid])+"\n              ")])}}])},[r("template",{slot:"footer"},[r("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,"show-total":function(t){return"共 "+t+" 条"},current:t.formSearch.current},on:{change:t.pagechange}})],1)],2)],1),r("export-connect",{attrs:{show:t.modal.export}})],1)],1)},n=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),i=(r("c5f6"),r("b775")),c=r("01ff");function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var u=[{title:"姓名",scopedSlots:{customRender:"userName"}},{title:"参保城市",scopedSlots:{customRender:"CityCode"}},{title:"公司名称",dataIndex:"ComName"},{title:"联系时间",dataIndex:"Contacttime"},{title:"联系内容",dataIndex:"ContactContent",width:"350px"},{title:"下次联系时间",dataIndex:"NextContacttime"},{title:"说明",dataIndex:"explain"},{title:"办理状态",dataIndex:"transactState"},{title:"联系人客服",scopedSlots:{customRender:"Userid"}}],f={props:{type:{type:Object,default:function(){return{}}},role:{type:Number,default:""}},components:{exportConnect:c["default"]},data:function(){return{advanced:!0,columns:u,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],UserArray:{},cityList:{},modal:{export:{show:!1}}}},created:function(){var t=this;t.init()},methods:{init:function(){var t=this;i["a"].post("/api/Dim/Enum/DimDecode",{Names:["User","City"]}).then(function(e){0===e.code&&(t.UserArray=e.data.User,t.cityList=e.data.City,t.pagechange(1))}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,r={};e.formSearch.current=t,r=l({},e.formSearch),r.Role=e.role,e.$loading.open(),i["a"].post("/api/Employee/Contact/kfCRList",r).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},exportConnect:function(){var t=this;this.modal.export={show:!0,Role:t.role}}}},p=f,m=r("2877"),d=Object(m["a"])(p,a,n,!1,null,null,null);e["default"]=d.exports},c5f6:function(t,e,r){"use strict";var a=r("7726"),n=r("69a8"),o=r("2d95"),i=r("5dbc"),c=r("6a99"),s=r("79e5"),l=r("9093").f,u=r("11e9").f,f=r("86cc").f,p=r("aa77").trim,m="Number",d=a[m],h=d,g=d.prototype,b=o(r("2aeb")(g))==m,v="trim"in String.prototype,x=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():p(e,3);var r,a,n,o=e.charCodeAt(0);if(43===o||45===o){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+e}for(var i,s=e.slice(2),l=0,u=s.length;l<u;l++)if(i=s.charCodeAt(l),i<48||i>n)return NaN;return parseInt(s,a)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof d&&(b?s(function(){g.valueOf.call(r)}):o(r)!=m)?i(new h(x(e)),r,d):x(e)};for(var y,S=r("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;S.length>C;C++)n(h,y=S[C])&&!n(d,y)&&f(d,y,u(h,y));d.prototype=g,g.constructor=d,r("2aba")(a,m,d)}},dd06:function(t,e,r){"use strict";var a=r("3c4b"),n=r.n(a);n.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);