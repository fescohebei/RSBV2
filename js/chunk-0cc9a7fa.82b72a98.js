(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cc9a7fa","chunk-f28d34f8"],{"14b4":function(t,e,a){"use strict";var r=a("83af"),o=a.n(r);o.a},"5dbc":function(t,e,a){var r=a("d3f4"),o=a("8b97").set;t.exports=function(t,e,a){var n,s=e.constructor;return s!==a&&"function"==typeof s&&(n=s.prototype)!==a.prototype&&r(n)&&o&&o(t,n),t}},"7b87":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:5}},[a("a-form-item",{attrs:{label:"月份",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-month-picker",{staticStyle:{width:"100%"},attrs:{allowClear:!0,placeholder:"请选择月份"},on:{change:t.changeNianYue},model:{value:t.formSearch.nianyue,callback:function(e){t.$set(t.formSearch,"nianyue",e)},expression:"formSearch.nianyue"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.initPage}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.lockSb}},[t._v("锁定")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"ORLZFGuid"},scopedSlots:t._u([{key:"sbtype",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(t.sbType[r.sbtype])+"\n              ")])}},{key:"CityCode",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n                "+t._s(t.cityList[r.CityCode])+"\n              ")])}},{key:"addAction",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[r.AddStatus?a("a",{on:{click:function(e){return t.detail(r,"add")}}},[t._v("申增详情")]):t._e(),r.AddStatus?a("a-divider",{attrs:{type:"vertical"}}):t._e(),r.AddStatus&&r.申增>0?a("a",{on:{click:function(e){return t.exportDaku(r,"add")}}},[t._v("导出申增")]):t._e(),r.AddStatus&&0===r.申增已处理?a("a-divider",{attrs:{type:"vertical"}}):t._e(),r.AddStatus&&0===r.申增已处理&&0==r.AddNextCount?a("a",{on:{click:function(e){return t.disslock(r,"add")}}},[t._v("取消申增锁定")]):t._e()],1)}},{key:"subAction",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[r.SubStatus?a("a",{on:{click:function(e){return t.detail(r,"sub")}}},[t._v("申减详情")]):t._e(),r.SubStatus?a("a-divider",{attrs:{type:"vertical"}}):t._e(),r.SubStatus&&r.申减>0?a("a",{on:{click:function(e){return t.exportDaku(r,"sub")}}},[t._v("导出申减")]):t._e(),r.SubStatus&&0===r.申减已处理?a("a-divider",{attrs:{type:"vertical"}}):t._e(),r.SubStatus&&0===r.申减已处理&&0==r.SubNextCount?a("a",{on:{click:function(e){return t.disslock(r,"sub")}}},[t._v("取消申减锁定")]):t._e()],1)}},{key:"finish",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},[r["申减"]===r["申减已处理"]&&r["申增"]===r["申增已处理"]?a("span",[t._v("已完成")]):a("a",{staticStyle:{color:"red"}},[t._v("未完成")])])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2),a("modal-detail",{attrs:{show:t.modal.detail,refresh:t.pagerefresh}}),a("modal-lock",{attrs:{show:t.modal.lock,refresh:t.pagerefresh}})],1)],1)],1)},o=[],n=(a("8e6e"),a("456d"),a("bd86")),s=(a("ac6a"),a("c5f6"),a("b775")),c=a("879c"),i=a("a1cc"),l=a("c32d"),u=a.n(l);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(a,!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var p=[{title:"完成状态",scopedSlots:{customRender:"finish"}},{title:"城市",scopedSlots:{customRender:"CityCode"}},{title:"社保类型",scopedSlots:{customRender:"sbtype"}},{title:"年月",dataIndex:"nianyue"},{title:"申增人数",dataIndex:"申增"},{title:"申减人数",dataIndex:"申减"},{title:"申增操作",scopedSlots:{customRender:"addAction"}},{title:"申减操作",scopedSlots:{customRender:"subAction"}}],m={props:{role:{type:Number,default:""}},components:{ModalDetail:c["default"],ModalLock:i["default"]},data:function(){return{advanced:!0,columns:p,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0},count:"5",form:this.$form.createForm(this),resultForm:this.$form.createForm(this),AFormImportRules:{selected:[{required:!0,message:"请选择"}]},dataSource:[],UserArray:[],modal:{detail:{show:!1},lock:{show:!1}},sbType:{},ChargingCycle:{},moment:u.a,ServiceType:{},showResultLayer:!1,ORLZGUID:"",sbTypeList:[]}},created:function(){var t=this;t.init()},methods:{init:function(){var t=this;s["a"].post("/api/Dim/Enum/DimDecode",{Names:["User","City"]}).then(function(e){0===e.code&&(t.UserArray=e.data.User,t.cityList=e.data.City)}).catch(function(t){console.log(t)}),s["a"].post("/api/Dim/Enum/GetEnum",{Names:["sbType","ChargingCycle","ServiceType"]}).then(function(e){0===e.code?(t.sbTypeList=e.data.sbType,e.data.sbType.forEach(function(e,a){t.sbType[e.key]=e.text}),e.data.ChargingCycle.forEach(function(e,a){t.ChargingCycle[e.key]=e.text}),e.data.ServiceType.forEach(function(e,a){t.ServiceType[e.key]=e.text}),t.pagechange(1)):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,a={};e.formSearch.current=t,a=f({},e.formSearch),e.formSearch.nianyue&&(a.nianyue=e.formSearch.nianyue.format("YYYY-MM-DD")),e.$loading.open(),s["a"].post("/api/order/order_rlz/DaKuOrderList",a).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},detail:function(t,e){var a=this;this.modal.detail={show:!0,faDetail:t,sbType:a.sbType,sbTypeList:a.sbTypeList,type:e}},changeNianYue:function(t,e){this.formSearch.nianyue=""!=e?u()(e):void 0},exportDaku:function(t,e){var a=document.createElement("a");a.href="/api/Excle/RLZFrozen/DaKuList?ORLZFGuid="+t.ORLZFGuid+"&&addsub="+e,a.click()},disslock:function(t,e){var a=this;s["a"].post("/api/order/order_rlz/DeleteFrozen",{ORLZFGuid:t.ORLZFGuid,addsub:e}).then(function(t){a.$loading.close(),0===t.code?(a.$message.success(t.msg),a.initPage()):a.$message.error(t.msg)}).catch(function(t){a.$loading.close(),console.log(t)})},lockSb:function(){var t=this;this.modal.lock={show:!0,sbTypeList:t.sbTypeList}}}},h=m,y=a("2877"),b=Object(y["a"])(h,r,o,!1,null,null,null);e["default"]=b.exports},"83af":function(t,e,a){},"8b97":function(t,e,a){var r=a("d3f4"),o=a("cb7c"),n=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,a){return n(t,a),e?t.__proto__=a:r(t,a),t}}({},!1):void 0),check:n}},a1cc:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:400,zIndex:1001,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n   锁定\n   ")]),a("a-form",{attrs:{form:t.connectForm}},[a("div",{staticClass:"form-box"},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"类型",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["addsub",{rules:t.connectFormImportRules.selectReq}],expression:"['addsub',{rules:connectFormImportRules.selectReq}]"}],attrs:{allowClear:!0}},t._l(t.typeList,function(e){return a("a-select-option",{key:e.key},[t._v(t._s(e.text))])}),1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"社保类型",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sbtype",{rules:t.connectFormImportRules.selectReq}],expression:"['sbtype',{rules:connectFormImportRules.selectReq}]"}],attrs:{allowClear:!0}},t._l(t.visible.sbTypeList,function(e){return a("a-select-option",{key:e.key},[t._v(t._s(e.text))])}),1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"月份",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["nianyue",{rules:t.connectFormImportRules.selectReq}],expression:"['nianyue',{rules:connectFormImportRules.selectReq}]"}],staticStyle:{width:"100%"},attrs:{allowClear:!1,placeholder:"请选择月份"}})],1)],1)],1),a("div",{style:{width:"100%",padding:"0px 16px 10px",background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{staticStyle:{"margin-left":"122px"},attrs:{type:"primary","html-type":"submit"},on:{click:t.saveLock}},[t._v("确定")])],1)],1)])],2)},o=[],n=a("b775"),s={props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,sbTypeList:[]},connectForm:this.$form.createForm(this),connectFormImportRules:{selectReq:[{required:!0,message:"请选择"}]},ComBranch:[],typeList:[{key:"add",text:"申增"},{key:"sub",text:"申减"}]}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){this.init()},methods:{init:function(){},saveLock:function(){var t=this,e={};t.connectForm.validateFields(function(a,r){a||(e=r,e.nianyue=moment(r.nianyue).format("YYYYMM"),t.$loading.open(),n["a"].post("/api/order/order_rlz/FrozenDaKu",e).then(function(e){t.$loading.close(),0===e.code?(t.$message.success(e.msg),t.onClose(),t.refresh()):t.$message.error(e.msg)}).catch(function(e){t.$loading.close(),console.log(e)}))})},onClose:function(){this.visible.show=!1,this.connectForm.resetFields()}}},c=s,i=(a("14b4"),a("2877")),l=Object(i["a"])(c,r,o,!1,null,"88df799a",null);e["default"]=l.exports},aa77:function(t,e,a){var r=a("5ca1"),o=a("be13"),n=a("79e5"),s=a("fdef"),c="["+s+"]",i="​",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(t,e,a){var o={},c=n(function(){return!!s[t]()||i[t]()!=i}),l=o[t]=c?e(f):s[t];a&&(o[a]=l),r(r.P+r.F*c,"String",o)},f=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},c5f6:function(t,e,a){"use strict";var r=a("7726"),o=a("69a8"),n=a("2d95"),s=a("5dbc"),c=a("6a99"),i=a("79e5"),l=a("9093").f,u=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,p="Number",m=r[p],h=m,y=m.prototype,b=n(a("2aeb")(y))==p,g="trim"in String.prototype,v=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var a,r,o,n=e.charCodeAt(0);if(43===n||45===n){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var s,i=e.slice(2),l=0,u=i.length;l<u;l++)if(s=i.charCodeAt(l),s<48||s>o)return NaN;return parseInt(i,r)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof m&&(b?i(function(){y.valueOf.call(a)}):n(a)!=p)?s(new h(v(e)),a,m):v(e)};for(var S,_=a("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;_.length>k;k++)o(h,S=_[k])&&!o(m,S)&&d(m,S,u(h,S));m.prototype=y,y.constructor=m,a("2aba")(r,p,m)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);