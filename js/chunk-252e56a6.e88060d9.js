(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-252e56a6"],{"097e":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1200,centered:!0},on:{cancel:e.onClose,ok:e.submitLadder}},[i("template",{slot:"title"},[e._v("\n  修改城市价格\n")]),i("a-form",{attrs:{form:e.form}},e._l(e.cityServiceList,function(t,a){return i("a-row",{key:a},[i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"城市",labelCol:{span:6},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0},model:{value:t.CityCode,callback:function(i){e.$set(t,"CityCode",i)},expression:"item.CityCode"}},e._l(e.cityList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"接单客服部门",labelCol:{span:6},wrapperCol:{span:16}}},[i("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["接单客服部门",{rules:e.AFormImportRules.iptInput}],expression:"['接单客服部门',{rules:AFormImportRules.iptInput}]"}],attrs:{options:e.options,loadData:e.loadData,changeOnSelect:"",placeholder:"请选择部门"},on:{change:e.onChange}})],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"接单客服",labelCol:{span:6},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0},model:{value:t.OrderUserid,callback:function(i){e.$set(t,"OrderUserid",i)},expression:"item.OrderUserid"}},e._l(e.DepList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1),i("a-icon",{staticClass:"minus-btn ml10",attrs:{type:"minus-circle-o"},on:{click:function(){return e.removeCityService(t,a)}}})],1)],1)],1)}),1),i("div",{staticStyle:{"text-align":"center"}},[i("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.addCityService}},[i("a-icon",{attrs:{type:"plus"}}),e._v("增加城市服务\n    ")],1)],1)],2)},o=[],s=i("75fc"),n=(i("7f7f"),i("ac6a"),i("b775")),r=(i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{visible:{show:!1},form:this.$form.createForm(this),AFormImportRules:{iptSelect:[{required:!0,message:"请选择"}]},assetsdetail:{Company:{ComName:""},ComService:{ServiceType:""},ComPriceStep:[],ComServiceCity:[],ComPriceCity:[]},cityServiceList:[],cityList:[{code:"1301",name:"石家庄市"},{code:"1302",name:"唐山市"},{code:"1303",name:"秦皇岛市"}],DepList:[],options:[]}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;e.cityServiceList=e.visible.detail.ComServiceCity,n["a"].post("/api/ChildrenDepsByDepId",{DepId:"1"}).then(function(t){0===t.code&&t.data.forEach(function(t,i){var a={};a.value=t.code,a.label=t.name,a.isLeaf=!1,e.options.push(a),e.serviceOptions.push(a)})}).catch(function(e){console.log(e)})},submitLadder:function(){this.onClose()},addCityService:function(){var e={CityCode:"",OrderUserid:""};this.cityServiceList.push(e)},removeCityService:function(e,t){this.cityServiceList.splice(t,1)},loadData:function(e){var t=e[e.length-1],i=this;t.loading=!0,n["a"].post("/api/ChildrenDepsByDepId",{DepId:t.value}).then(function(e){t.loading=!1,0===e.code&&(e.data.length>0?(t.children=[],e.data.forEach(function(e,i){var a={};a.value=e.code,a.label=e.name,a.isLeaf=!1,t.children.push(a)}),i.options=Object(s["a"])(i.options)):(t.isLeaf=!0,t.loading=!1))}).catch(function(e){console.log(e),t.loading=!1})},onChange:function(e){this.DepList=[],this.SaleUserid="",this.userbydepid(e[e.length-1])},userbydepid:function(e){var t=this;n["a"].post("/api/UsersByDepId",{DepId:e}).then(function(e){var i=e;0===i.code&&(t.DepList=i.data)}).catch(function(e){console.log(e)})}}}),l=r,c=(i("b11f"),i("2877")),d=Object(c["a"])(l,a,o,!1,null,"69c8e1f9",null);t["default"]=d.exports},"0c45":function(e,t,i){"use strict";var a=i("f6ca"),o=i.n(a);o.a},"0dd8":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1200,footer:null},on:{cancel:e.onClose}},[i("template",{slot:"title"},[e._v("\n  客户详情\n  ")]),i("div",[i("div",{staticClass:"tab-title"},[e._v("基本信息")]),i("table",{staticClass:"detail-table",attrs:{border:"1"}},[i("tr",[i("td",[e._v("公司名称:")]),i("td",[e._v(e._s(e.ComService.ComName))]),i("td",[e._v("服务类型:")]),i("td",[e._v(e._s(e.visible.ServiceType[e.ComService.ServiceType]))]),i("td",[e._v("公积金服务类型:")]),i("td",[e._v(e._s(e.visible.ServiceType[e.ComService.GJJServiceType]))])]),i("tr",[i("td",[e._v("服务费模式:")]),i("td",[e._v(e._s(e.visible.BillingMode[e.ComService.BillingMode]))]),i("td",[e._v("补缴服务费模式:")]),i("td",[e._v(e._s(e.visible.BuJiaoBillingType[e.ComService.BuJiaoBillingType]))]),i("td",[e._v("是否有档案服务:")]),i("td",[e._v(e._s("true"==e.ComService.DangAn?"是":"否"))])]),i("tr",[i("td",[e._v("联系规则:")]),i("td",[e._v(e._s(e.LinkRole[e.ComService.LinkRoleID]))]),i("td",[e._v("整户费:")]),i("td",[e._v(e._s(e.ComService.AccountFee))]),i("td",[e._v("单人价格:")]),i("td",[e._v(e._s(e.ComService.UnitPrice))])]),i("tr",[i("td",[e._v("档案价格:")]),i("td",[e._v(e._s(e.ComService.ArchivesPrice))]),i("td",[e._v("是否驻场:")]),i("td",[e._v(e._s("true"==e.ComService.IsOnsite?"是":"否"))]),i("td",[e._v("驻场客服:")]),i("td",[e._v(e._s(e.visible.UserArray[e.ComService.OnsiteUserid]))])]),i("tr",[i("td",[e._v("私有工伤费率:")]),i("td",[e._v(e._s(e.ComService.GongShangRate)+"%")]),i("td",[e._v("服务流程:")]),i("td",[e._v(e._s(e.visible.FlowType[e.ComService.FlowType]))]),i("td",[e._v("客服:")]),i("td",[e._v(e._s(e.visible.UserArray[e.ComService.KefuUserid]))])]),i("tr",[i("td",[e._v("供应商:")]),i("td",{attrs:{colspan:"5"}},[e._v(e._s(e.ComService.GYSName))])])]),i("div",{staticClass:"tab-title"},[e._v("阶梯优惠")]),i("a-table",{attrs:{columns:e.columnsLadder,dataSource:e.comPriceSteps,pagination:!1,size:"middle",rowKey:"ComPriceStepGuid"},scopedSlots:e._u([{key:"EmpMin",fn:function(t,a){return i("span",{},[e._v(e._s(a.EmpMin)+"~"+e._s(a.EmpMax)+"(含)")])}}])}),i("div",{staticClass:"tab-title"},[e._v("城市价格")]),i("a-table",{attrs:{columns:e.columnsPrice,dataSource:e.comPriceCities,pagination:!1,rowKey:"ComPriceCityGuid",size:"middle"},scopedSlots:e._u([{key:"CityCode",fn:function(t,a){return i("span",{},[e._v(e._s(e.visible.cityList[a.CityCode]))])}}])}),i("div",{staticClass:"tab-title"},[e._v("城市服务")]),i("a-table",{attrs:{columns:e.columnsCity,dataSource:e.comServiceCities,pagination:!1,rowKey:"ID",size:"middle"},scopedSlots:e._u([{key:"CityCode",fn:function(t,a){return i("span",{},[e._v(e._s(e.visible.cityList[a.CityCode]))])}},{key:"OrderUserid",fn:function(t,a){return i("span",{},[e._v(e._s(e.visible.UserArray[a.OrderUserid]))])}},{key:"action",fn:function(t,a){return i("span",{},[i("a",{on:{click:function(t){return e.changeKf(a)}}},[e._v("修改订单客服")])])}}])}),i("div",{staticClass:"tab-title"},[e._v("收费信息")]),i("a-table",{attrs:{columns:e.costcolumns,dataSource:e.cost,pagination:!1,rowKey:"ComCostGuid",size:"middle"},scopedSlots:e._u([{key:"BeginDate",fn:function(t,a){return i("span",{staticStyle:{"text-align":"right"}},[e._v("\n        "+e._s(null==a.BeginDate?"":e.moment(a.BeginDate).format("YYYY-MM"))+"\n      ")])}},{key:"EndDate",fn:function(t,a){return i("span",{staticStyle:{"text-align":"right"}},[e._v("\n        "+e._s(null==a.EndDate?"":e.moment(a.EndDate).format("YYYY-MM"))+"\n      ")])}}])}),i("div",{staticClass:"tab-title"},[e._v("社保账户")]),i("a-table",{attrs:{columns:e.accountcolumns,dataSource:e.SBAccount,pagination:!1,rowKey:"ID",size:"middle"},scopedSlots:e._u([{key:"AccountType",fn:function(t,a){return i("span",{staticStyle:{"text-align":"right"}},[e._v("\n        "+e._s(e.visible.AccountType[a.AccountType])+"\n      ")])}}])})],1),i("a-modal",{attrs:{title:"修改接单客服",visible:e.showHandoverLayer,"confirm-loading":e.confirmLoading,centered:"","z-index":1001},on:{ok:e.handOverOk,cancel:e.handleOverCancel}},[i("a-form",{attrs:{layout:"horizontal"}},[i("div",[i("a-row",{attrs:{gutter:10}},[i("a-col",{attrs:{md:24}},[i("a-form-item",{attrs:{label:"部门",labelCol:{span:6},wrapperCol:{span:18}}},[i("a-cascader",{attrs:{options:e.allOptions,loadData:e.loadDataAll,changeOnSelect:"",placeholder:"请选择交接部门"},on:{change:e.onChangeAll},model:{value:e.handover.DepId,callback:function(t){e.$set(e.handover,"DepId",t)},expression:"handover.DepId"}})],1),i("a-form-item",{attrs:{label:"人员",labelCol:{span:6},wrapperCol:{span:18}}},[i("a-select",{model:{value:e.handover.Userid,callback:function(t){e.$set(e.handover,"Userid",t)},expression:"handover.Userid"}},e._l(e.AllUserList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1)],1)],1)])],1),i("modal-modify-service",{attrs:{show:e.modal.modifyService,refresh:e.init}}),i("modal-modify-ladder",{attrs:{show:e.modal.modifyLadder,refresh:e.init}}),i("modal-modify-city-price",{attrs:{show:e.modal.modifyCityPrice,refresh:e.init}}),i("modal-modify-city-service",{attrs:{show:e.modal.modifyCityService,refresh:e.init}}),i("modal-connect-sub-account",{attrs:{show:e.modal.connectSubAccount,refresh:e.init}})],2)},o=[],s=i("75fc"),n=(i("7f7f"),i("ac6a"),i("b775")),r=i("c32d"),l=i.n(r),c=(i("61f7"),i("4b94")),d=i("591f"),p=i("2160"),u=i("097e"),m=i("0ff5"),v=[{title:"阶梯",customRender:function(e,t,i){return"阶梯"+(i+1)}},{title:"人数范围",scopedSlots:{customRender:"EmpMin"}},{title:"优惠金额",dataIndex:"Discount"}],f=[{title:"城市",scopedSlots:{customRender:"CityCode"}},{title:"单人价格",dataIndex:"UnitPrice"},{title:"档案价格",dataIndex:"ArchivesPrice"}],h=[{title:"城市",scopedSlots:{customRender:"CityCode"}},{title:"接单客服",scopedSlots:{customRender:"OrderUserid"}},{title:"操作",scopedSlots:{customRender:"action"}}],C=[{title:"编码",dataIndex:"SubCode"},{title:"名称",dataIndex:"SubAccount"},{title:"费率",dataIndex:"Rate"}],b=[{title:"支出金额",dataIndex:"OutAmount"},{title:"收入金额",dataIndex:"InAmount"},{title:"创建时间",dataIndex:"CreateTime"},{title:"开始日期",scopedSlots:{customRender:"BeginDate"}},{title:"结束日期",scopedSlots:{customRender:"EndDate"}},{title:"备注",dataIndex:"Remarks"}],y=[{title:"类型",scopedSlots:{customRender:"AccountType"}},{title:"账户",dataIndex:"AccountName"},{title:"户名",dataIndex:"AccountNumber"},{title:"备注",dataIndex:"Remarks"}],w={components:{ModalModifyService:c["default"],ModalModifyLadder:d["default"],ModalModifyCityPrice:p["default"],ModalModifyCityService:u["default"],ModalConnectSubAccount:m["default"]},props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{columnsLadder:v,columnsPrice:f,columnsCity:h,columnsAccount:C,costcolumns:b,accountcolumns:y,visible:{show:!1,ServiceType:{},BillingMode:{},BuJiaoBillingType:{},cityList:{},UserArray:[],FlowType:{},AccountType:{}},form:this.$form.createForm(this),assetsdetail:{},LinkRole:{1:"按上海",2:"按北京",3:"按河北"},modal:{modifyService:{show:!1},modifyLadder:{show:!1},modifyCityPrice:{show:!1},modifyCityService:{show:!1},connectSubAccount:{show:!1}},ComService:{ComName:""},comPriceCities:[],comPriceSteps:[],comServiceCities:[],confirmLoading:!1,showHandoverLayer:!1,handover:{DepId:[],Userid:"",record:{}},allOptions:[],AllUserList:[],cost:[],moment:l.a,SBAccount:[],AccountType:{}}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;n["a"].post("/api/Company/Service/Detail",{Guid:e.visible.ComServiceGuid}).then(function(t){0===t.code&&(e.ComService=t.data.comService,e.comPriceCities=t.data.comPriceCities,e.comPriceSteps=t.data.comPriceSteps,e.comServiceCities=t.data.comServiceCities,e.cost=t.data.cost,e.SBAccount=t.data.SBAccount)}).catch(function(e){console.log(e)}),e.getAllDep()},connectSecondAccount:function(){this.modal.connectSubAccount={show:!0}},modifyComService:function(){var e=this;e.modal.modifyService={show:!0,detail:e.assetsdetail}},modifyLadder:function(){var e=this;e.modal.modifyLadder={show:!0,detail:e.assetsdetail}},modifyCityPrice:function(){var e=this;e.modal.modifyCityPrice={show:!0,detail:e.assetsdetail}},modifyCityService:function(){var e=this;e.modal.modifyCityService={show:!0,detail:e.assetsdetail}},changeKf:function(e){this.handover.record=e,this.showHandoverLayer=!0},handOverOk:function(e){var t=this;t.handover.DepId===[]?t.$message.error("请选择部门！"):""===t.handover.Userid?t.$message.error("请选择人员！"):n["a"].post("/api/Company/Service/ChangeComServiceCity",{ID:t.handover.record.ID,OrderUserid:t.handover.Userid}).then(function(e){0===e.code?(t.showHandoverLayer=!1,t.handover={DepId:[],Userid:"",record:{}},t.allOptions=[],t.init(),t.$message.success(e.msg)):t.$message.error(e.msg)}).catch(function(e){console.log(e)})},handleOverCancel:function(e){this.showHandoverLayer=!1,this.handover={DepId:[],Userid:"",record:{}}},getAllDep:function(){var e=this;n["a"].post("/api/Org/Department/ChildrenDepsByDepId",{DepId:"1"}).then(function(t){0===t.code&&t.data.forEach(function(t,i){var a={};a.value=t.code,a.label=t.name,a.isLeaf=!1,e.allOptions.push(a)})}).catch(function(e){console.log(e)})},loadDataAll:function(e){var t=e[e.length-1],i=this;t.loading=!0,n["a"].post("/api/Org/Department/ChildrenDepsByDepId",{DepId:t.value}).then(function(e){t.loading=!1,0===e.code&&(e.data.length>0?(t.children=[],e.data.forEach(function(e,i){var a={};a.value=e.code,a.label=e.name,a.isLeaf=!1,t.children.push(a)}),i.allOptions=Object(s["a"])(i.allOptions)):(t.isLeaf=!0,t.loading=!1,i.allOptions=Object(s["a"])(i.allOptions)))}).catch(function(e){console.log(e),t.loading=!1})},onChangeAll:function(e){this.AllUserList=[],this.handover.Userid="",this.userbydepidAll(e[e.length-1])},userbydepidAll:function(e){var t=this;n["a"].post("/api/Org/User/UsersByDepId",{DepId:e}).then(function(e){var i=e;0===i.code&&(t.AllUserList=i.data)}).catch(function(e){console.log(e)})}}},_=w,S=(i("0c45"),i("2877")),g=Object(S["a"])(_,a,o,!1,null,"dd75e280",null);t["default"]=g.exports},"0ff5":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:500,centered:!0},on:{cancel:e.onClose,ok:e.submitConnect}},[i("template",{slot:"title"},[e._v("\n  关联工伤二级户\n")]),i("a-form",{attrs:{form:e.form}},[i("a-form-item",{attrs:{label:"二级户名称",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0},model:{value:e.SubAccountGuid,callback:function(t){e.SubAccountGuid=t},expression:"SubAccountGuid"}},e._l(e.subAccountList,function(t){return i("a-select-option",{key:t.SubAccountGuid},[e._v(e._s(t.SubAccount))])}),1)],1)],1)],2)},o=[],s=i("b775"),n=(i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{visible:{show:!1},form:this.$form.createForm(this),subAccountList:[],SubAccountGuid:""}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;s["a"].post("/api/GongShangSubAccount",{pageSize:9999}).then(function(t){0===t.code&&(e.subAccountList=t.data.rows)}).catch(function(e){console.log(e)})},submitConnect:function(){this.onClose()}}}),r=n,l=(i("505c"),i("2877")),c=Object(l["a"])(r,a,o,!1,null,"2f2ff894",null);t["default"]=c.exports},2160:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1200,centered:!0},on:{cancel:e.onClose,ok:e.submitLadder}},[i("template",{slot:"title"},[e._v("\n  修改城市价格\n")]),i("a-form",{attrs:{form:e.form}},e._l(e.cityPriceList,function(t,a){return i("a-row",{key:a},[i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"城市",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0},model:{value:t.CityCode,callback:function(i){e.$set(t,"CityCode",i)},expression:"item.CityCode"}},e._l(e.cityList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"单人价格",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{model:{value:t.UnitPrice,callback:function(i){e.$set(t,"UnitPrice",i)},expression:"item.UnitPrice"}})],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"档案价格",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{model:{value:t.ArchivesPrice,callback:function(i){e.$set(t,"ArchivesPrice",i)},expression:"item.ArchivesPrice"}}),i("a-icon",{staticClass:"minus-btn ml10",attrs:{type:"minus-circle-o"},on:{click:function(){return e.removeCityPrice(t,a)}}})],1)],1)],1)}),1),i("div",{staticStyle:{"text-align":"center"}},[i("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.addCityPrice}},[i("a-icon",{attrs:{type:"plus"}}),e._v("增加城市\n    ")],1)],1)],2)},o=[],s=(i("b775"),i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{visible:{show:!1},form:this.$form.createForm(this),assetsdetail:{Company:{ComName:""},ComService:{ServiceType:""},ComPriceStep:[],ComServiceCity:[],ComPriceCity:[]},cityPriceList:[],cityList:[{code:"1301",name:"石家庄市"},{code:"1302",name:"唐山市"},{code:"1303",name:"秦皇岛市"}]}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;e.cityPriceList=e.visible.detail.ComPriceCity},submitLadder:function(){this.onClose()},addCityPrice:function(){var e={CityCode:"",UnitPrice:"",ArchivesPrice:""};this.cityPriceList.push(e)},removeCityPrice:function(e,t){this.cityPriceList.splice(t,1)}}}),n=s,r=(i("b32c"),i("2877")),l=Object(r["a"])(n,a,o,!1,null,"7532f328",null);t["default"]=l.exports},2927:function(e,t,i){"use strict";var a=i("a0b7"),o=i.n(a);o.a},"40e2":function(e,t,i){},"4b94":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1200,centered:!0},on:{cancel:e.onClose,ok:e.submitService}},[i("template",{slot:"title"},[e._v("\n  修改客户服务信息\n")]),i("a-form",{attrs:{form:e.form}},[i("a-row",[i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"服务类型",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("大库")]),i("a-select-option",{key:"20"},[e._v("单立户")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"公积金服务类型",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("大库")]),i("a-select-option",{key:"20"},[e._v("单立户")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"服务费模式",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("随账单一起收费")]),i("a-select-option",{key:"20"},[e._v("预收费")]),i("a-select-option",{key:"30"},[e._v("后收费")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"补缴服务费模式",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("按人月")]),i("a-select-option",{key:"20"},[e._v("按人")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"是否有档案服务",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("是")]),i("a-select-option",{key:"20"},[e._v("否")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"联系规则",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("按北京")]),i("a-select-option",{key:"20"},[e._v("按上海")]),i("a-select-option",{key:"20"},[e._v("按河北")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"整户费",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[""],expression:"['']"}]})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"单人价格",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[""],expression:"['']"}]})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"档案价格",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[""],expression:"['']"}]})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"是否驻场",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("是")]),i("a-select-option",{key:"20"},[e._v("否")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"驻场客服部门",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["驻场客服部门",{rules:e.AFormImportRules.iptInput}],expression:"['驻场客服部门',{rules:AFormImportRules.iptInput}]"}],attrs:{options:e.options,loadData:e.loadData,changeOnSelect:"",placeholder:"请选择部门"},on:{change:e.onChange}})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"驻场客服",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["驻场客服"],expression:"['驻场客服']"}],attrs:{allowClear:!0}},e._l(e.DepList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1)],1)],1)],2)},o=[],s=i("75fc"),n=(i("7f7f"),i("ac6a"),i("bd86")),r=i("b775"),l=(i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){var e;return e={visible:{show:!1,ServiceType:{},BillingMode:{},BuJiaoBillingType:{}},form:this.$form.createForm(this),assetsdetail:{Company:{ComName:""},ComService:{ServiceType:""},ComPriceStep:[],ComServiceCity:[],ComPriceCity:[]},LinkRole:{1:"按上海",2:"按北京",3:"按河北"}},Object(n["a"])(e,"form",this.$form.createForm(this)),Object(n["a"])(e,"AFormImportRules",{iptSelect:[{required:!0,message:"请选择"}]}),Object(n["a"])(e,"options",[]),Object(n["a"])(e,"DepList",[]),e},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;r["a"].post("/api/ComDetail",{comGuid:""}).then(function(t){0===t.code&&(e.assetsdetail=t.data)}).catch(function(e){console.log(e)})},loadData:function(e){var t=e[e.length-1],i=this;t.loading=!0,r["a"].post("/api/ChildrenDepsByDepId",{DepId:t.value}).then(function(e){t.loading=!1,0===e.code&&(e.data.length>0?(t.children=[],e.data.forEach(function(e,i){var a={};a.value=e.code,a.label=e.name,a.isLeaf=!1,t.children.push(a)}),i.options=Object(s["a"])(i.options)):(t.isLeaf=!0,t.loading=!1))}).catch(function(e){console.log(e),t.loading=!1})},onChange:function(e){this.DepList=[],this.SaleUserid="",this.userbydepid(e[e.length-1])},userbydepid:function(e){var t=this;r["a"].post("/api/UsersByDepId",{DepId:e}).then(function(e){var i=e;0===i.code&&(t.DepList=i.data)}).catch(function(e){console.log(e)})},submitService:function(){this.onClose()}}}),c=l,d=(i("2927"),i("2877")),p=Object(d["a"])(c,a,o,!1,null,"e4b295aa",null);t["default"]=p.exports},"505c":function(e,t,i){"use strict";var a=i("6af5"),o=i.n(a);o.a},"591f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:600,centered:!0},on:{cancel:e.onClose,ok:e.submitLadder}},[i("template",{slot:"title"},[e._v("\n  修改阶梯优惠\n")]),e._l(e.ladderList,function(t,a){return i("div",{key:a,staticClass:"steps-box text-left"},[0==parseInt(t.EmpMin)&&99999==parseInt(t.EmpMax)?[e._v("\n    阶梯"+e._s(a+1)+"："+e._s(t.EmpMin)+"~"+e._s(t.EmpMax)+"人/优惠金额:"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},attrs:{placeholder:"优惠金额"},model:{value:t.Discount,callback:function(i){e.$set(t,"Discount",i)},expression:"item.Discount"}})]:0==parseInt(t.EmpMin)&&99999!=parseInt(t.EmpMax)?[e._v("\n      阶梯"+e._s(a+1)+"："+e._s(t.EmpMin)+"~"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},on:{change:function(i){return e.ladderChange(t.EmpMax,t,a,"EmpMax")}},model:{value:t.EmpMax,callback:function(i){e.$set(t,"EmpMax",i)},expression:"item.EmpMax"}}),e._v("人/优惠金额:"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},attrs:{placeholder:"优惠金额"},model:{value:t.Discount,callback:function(i){e.$set(t,"Discount",i)},expression:"item.Discount"}})]:0!=parseInt(t.EmpMin)&&99999==parseInt(t.EmpMax)?[e._v("\n      阶梯"+e._s(a+1)+"："),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},on:{change:function(i){return e.ladderChange(t.EmpMin,t,a,"EmpMin")}},model:{value:t.EmpMin,callback:function(i){e.$set(t,"EmpMin",i)},expression:"item.EmpMin"}}),e._v(" ~ "+e._s(t.EmpMax)+"人/优惠金额:"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},attrs:{placeholder:"优惠金额"},model:{value:t.Discount,callback:function(i){e.$set(t,"Discount",i)},expression:"item.Discount"}})]:[e._v("\n      阶梯"+e._s(a+1)+"："),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},on:{change:function(i){return e.ladderChange(t.EmpMin,t,a,"EmpMin")}},model:{value:t.EmpMin,callback:function(i){e.$set(t,"EmpMin",i)},expression:"item.EmpMin"}}),e._v(" ~ "),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},on:{change:function(i){return e.ladderChange(t.EmpMax,t,a,"EmpMax")}},model:{value:t.EmpMax,callback:function(i){e.$set(t,"EmpMax",i)},expression:"item.EmpMax"}}),e._v("人/优惠金额:"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},attrs:{placeholder:"优惠金额"},model:{value:t.Discount,callback:function(i){e.$set(t,"Discount",i)},expression:"item.Discount"}})],i("a-icon",{staticClass:"ml10",attrs:{type:"plus-circle"},on:{click:function(){return e.add(t,a)}}}),e.ladderList.length>1&&0!=a?i("a-icon",{staticClass:"dynamic-delete-button ml10",attrs:{type:"minus-circle-o",disabled:1===e.ladderList.length},on:{click:function(){return e.remove(t,a)}}}):e._e()],2)})],2)},o=[],s=(i("b775"),i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{visible:{show:!1},form:this.$form.createForm(this),assetsdetail:{Company:{ComName:""},ComService:{ServiceType:""},ComPriceStep:[],ComServiceCity:[],ComPriceCity:[]},ladderList:[]}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;e.ladderList=e.visible.detail.ComPriceStep},add:function(e,t){var i={EmpMin:"",EmpMax:"",Discount:""};0==t&&t==this.ladderList.length-1?(e.EmpMax="",i.EmpMax=99999):0==t?i.EmpMin=e.EmpMax?parseInt(e.EmpMax)+1:"":t==this.ladderList.length-1?(e.EmpMax="",i.EmpMax=99999):(i.EmpMin=e.EmpMax?parseInt(e.EmpMax)+1:"",i.EmpMax=""),this.ladderList.splice(t+1,0,i),console.log(this.ladderList)},remove:function(e,t){t==this.ladderList.length-1?this.ladderList[t-1].EmpMax=99999:this.ladderList[t-1].EmpMax=e.EmpMax,this.ladderList.splice(t,1),console.log(this.ladderList)},ladderChange:function(e,t,i,a){"EmpMax"==a&&(this.ladderList[i+1].EmpMin=parseInt(e)+1),"EmpMin"==a&&(this.ladderList[i-1].EmpMax=parseInt(e)-1)},submitLadder:function(){this.onClose()}}}),n=s,r=(i("f190"),i("2877")),l=Object(r["a"])(n,a,o,!1,null,"ee152f32",null);t["default"]=l.exports},"61f7":function(e,t,i){"use strict";i("28a5")},"6af5":function(e,t,i){},a0b7:function(e,t,i){},b11f:function(e,t,i){"use strict";var a=i("e5ad"),o=i.n(a);o.a},b32c:function(e,t,i){"use strict";var a=i("e7c8"),o=i.n(a);o.a},e5ad:function(e,t,i){},e7c8:function(e,t,i){},f190:function(e,t,i){"use strict";var a=i("40e2"),o=i.n(a);o.a},f6ca:function(e,t,i){}}]);