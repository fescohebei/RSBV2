(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fd8a670","chunk-48297580"],{4918:function(t,e,a){"use strict";var o=a("6a5e"),r=a.n(o);r.a},"5a67":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",{attrs:{gutter:6}},[a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emName,callback:function(e){t.$set(t.formSearch,"emName",e)},expression:"formSearch.emName"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emCardID,callback:function(e){t.$set(t.formSearch,"emCardID",e)},expression:"formSearch.emCardID"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"审核状态",labelCol:{span:10},wrapperCol:{span:13}}},[a("a-select",{attrs:{allowClear:!1},model:{value:t.formSearch.FlexibleStatus,callback:function(e){t.$set(t.formSearch,"FlexibleStatus",e)},expression:"formSearch.FlexibleStatus"}},[a("a-select-option",{key:""},[t._v("全部")]),t._l(t.FlexibleStatusList,function(e){return a("a-select-option",{key:e.key},[t._v(t._s(e.text))])})],2)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.initPage}},[t._v("查询")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"FlexibleGuid"},scopedSlots:t._u([{key:"action",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[0==o.Status?a("a",{on:{click:function(e){return t.detail(o,"2")}}},[t._v("审核")]):a("a",{on:{click:function(e){return t.detail(o,"1")}}},[t._v("查看")])])}},{key:"StatusStr",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[0==o.Status?a("span",[t._v(t._s(o.StatusStr))]):t._e(),1==o.Status?a("span",{staticStyle:{color:"green"}},[t._v(t._s(o.StatusStr))]):t._e(),2==o.Status?a("span",{staticStyle:{color:"red"}},[t._v(t._s(o.StatusStr))]):t._e()])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2)],1),a("modal-detail",{attrs:{show:t.modal.detail,refresh:t.pagerefresh}})],1)],1)},r=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),l=a("b775"),n=a("7e7a");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var d=[{title:"状态",scopedSlots:{customRender:"StatusStr"}},{title:"姓名",dataIndex:"姓名"},{title:"身份证号",dataIndex:"身份证号"},{title:"提交时间",dataIndex:"Subtime"},{title:"电话",dataIndex:"Mobile"},{title:"是否做养老",dataIndex:"IsYanglao"},{title:"是否做医疗",dataIndex:"IsYiliao"},{title:"操作",scopedSlots:{customRender:"action"}}],u={props:{type:{type:Object,default:function(){return{}}}},components:{ModalDetail:n["default"]},data:function(){return{advanced:!0,columns:d,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0,emCardID:"",FlexibleStatus:"",emName:""},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],FlexibleStatusList:[],modal:{detail:{show:!1}}}},created:function(){var t=this;t.init()},activated:function(){console.log("刷新");var t=this;t.pagechange(1)},methods:{init:function(){var t=this;l["a"].post("/api/Dim/Enum/GetEnum",{Names:["FlexibleStatus"]}).then(function(e){0===e.code?(t.FlexibleStatusList=e.data.FlexibleStatus,t.pagechange(1)):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,a={};e.formSearch.current=t,a=c({},e.formSearch),e.$loading.open(),l["a"].post("/api/rsb/Flexible/AuditList",a).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},detail:function(t,e){this.modal.detail={show:!0,orderDetail:t,ModelType:e}}}},m=u,p=a("2877"),f=Object(p["a"])(m,o,r,!1,null,null,null);e["default"]=f.exports},"6a5e":function(t,e,a){},"7e7a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1100,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n  "+t._s("1"==t.visible.ModelType?"详情":"审核")+"\n")]),a("div",{staticClass:"tab-title"},[t._v("基本信息")]),a("table",{staticClass:"detail-table",attrs:{border:"1"}},[a("tr",[a("td",[t._v("员工姓名:")]),a("td",[t._v(t._s(t.orderDetail["姓名"]))]),a("td",[t._v("身份证号:")]),a("td",[t._v(t._s(t.orderDetail["身份证号"]))]),a("td",[t._v("户籍:")]),a("td",[t._v(t._s(t.orderDetail.Huji))]),a("td",[t._v("邮寄地址:")]),a("td",[t._v(t._s(t.orderDetail.Address))])]),a("tr",[a("td",[t._v("手机号码:")]),a("td",[t._v(t._s(t.orderDetail.Mobile))]),a("td",[t._v("提交时间:")]),a("td",[t._v("\n          "+t._s(t.orderDetail.Subtime)+"\n        ")]),a("td",[t._v("是否做养老:")]),a("td",[t._v(t._s(t.orderDetail.IsYanglao))]),a("td",[t._v("是否做医疗:")]),a("td",[t._v(t._s(t.orderDetail.IsYiliao))])]),a("tr",[a("td",[t._v("审核时间:")]),a("td",[t._v(t._s(t.orderDetail.StatusTime))]),a("td",[t._v("审核人:")]),a("td",[t._v("\n          "+t._s(t.orderDetail.userName)+"\n        ")]),a("td",[t._v("审核状态:")]),a("td",[t._v(t._s(t.orderDetail.StatusStr))]),a("td"),a("td")]),a("tr",[a("td",[t._v("身份证正面:")]),a("td",{attrs:{colspan:"3"}},[a("img",{attrs:{src:t.orderDetail.img_zheng,width:"150px",height:"auto"}})]),a("td",[t._v("身份证反面:")]),a("td",{attrs:{colspan:"3"}},[a("img",{attrs:{src:t.orderDetail.img_fan,width:"150px",height:"auto"}})])])]),a("a-form",{attrs:{form:t.form}},[a("a-row",{staticStyle:{"margin-bottom":"50px"}},[a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[t._v("缴费记录")]),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"index",size:"middle"}})],1),"1"==t.visible.ModelType?a("a-col",{attrs:{span:24}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{margin:"10px 0 0"},attrs:{label:"状态",labelCol:{span:1},wrapperCol:{span:15}}},[t._v("\n              "+t._s(1==t.orderDetail.Status?"审核通过":"审核未通过")+"\n            ")])],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"原因",labelCol:{span:1},wrapperCol:{span:15}}},[t._v("\n              "+t._s(t.orderDetail.Reason)+"\n            ")])],1)],1):t._e(),"2"==t.visible.ModelType?a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{margin:"20px 0 0"},attrs:{label:"原因",labelCol:{span:1},wrapperCol:{span:23}}},[a("a-textarea",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.Remarks,callback:function(e){t.Remarks=e},expression:"Remarks"}})],1)],1):t._e()],1)],1),"2"==t.visible.ModelType?a("div",{style:{position:"absolute",bottom:"0",right:"0",width:"100%",padding:"10px 16px",borderTop:"1px solid #e8e8e8",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:function(e){return t.FlexibleRefuse()}}},[t._v("拒绝")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(e){return t.handleSubmit("1")}}},[t._v("通过")])],1):t._e()],2)},r=[],i=a("b775"),l=a("c32d"),n=a.n(l),s=[{title:"缴费状态",dataIndex:"ChargeStatusStr"},{title:"缴费时间",dataIndex:"Chargetime"},{title:"参保年度",dataIndex:"参保年度"},{title:"缴费金额",dataIndex:"Amount"},{title:"订单号",dataIndex:"out_trade_no"},{title:"退费时间",dataIndex:"RefundTime"},{title:"创建时间",dataIndex:"Createtime"},{title:"备注信息",dataIndex:"Remarks"}],c={components:{},props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,orderDetail:{},sbType:{},ChargingCycle:{},ServiceType:{},ModelType:""},form:this.$form.createForm(this),orderDetail:{},columns:s,modal:{},dataSource:[],moment:n.a,Remarks:""}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.visible.show&&(t.init(),t.pagechange())})},methods:{onClose:function(){this.visible.show=!1,this.orderDetail={},this.Remarks="",this.form.resetFields()},init:function(){var t=this;i["a"].post("/api/rsb/Flexible/WechatInfo",{guid:t.visible.orderDetail.FlexibleGuid}).then(function(e){t.$loading.close(),0===e.code&&(t.orderDetail=e.data.info)}).catch(function(e){t.$loading.close(),console.log(e)})},handleSubmit:function(t){var e=this;"2"!=t||e.Remarks?e.$confirm({title:"确认审核"+("1"==t?"通过":"拒绝")+"?",content:"点击确定确认。",onOk:function(){i["a"].post("/api/rsb/Flexible/FlexiblePass",{FlexibleGuid:e.visible.orderDetail.FlexibleGuid,Verify:t,Reason:e.Remarks}).then(function(t){0===t.code?(e.$message.success(t.msg),e.refresh(),e.onClose()):e.$message.error(t.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}}):e.$message.error("请输入原因！")},FlexibleRefuse:function(){var t=this;t.Remarks?t.$confirm({title:"确认审核拒绝?",content:"点击确定确认。",onOk:function(){i["a"].post("/api/rsb/Flexible/FlexibleRefuse",{FlexibleGuid:t.visible.orderDetail.FlexibleGuid,Reason:t.Remarks}).then(function(e){0===e.code?(console,t.$message.success(e.msg),t.refresh(),t.onClose()):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}}):t.$message.error("请输入原因！")},pagechange:function(){var t=this,e={FlexibleGuid:t.visible.orderDetail.FlexibleGuid};t.$loading.open(),i["a"].post("/api/rsb/Flexible/GetFlexiblePayList",e).then(function(e){t.$loading.close(),0===e.code&&(t.dataSource=e.data.rows)}).catch(function(e){t.$loading.close(),console.log(e)})}}},d=c,u=(a("4918"),a("2877")),m=Object(u["a"])(d,o,r,!1,null,"599e5e46",null);e["default"]=m.exports}}]);