(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8bcc2838","chunk-6b05053d"],{"13a8":function(e,t,a){"use strict";var r=a("16fb"),o=a.n(r);o.a},"16fb":function(e,t,a){},"28e9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("List")},o=[],c=a("5eae"),n={components:{List:c["default"]},data:function(){return{}},mounted:function(){},methods:{}},i=n,l=a("2877"),s=Object(l["a"])(i,r,o,!1,null,null,null);t["default"]=s.exports},"5eae":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:e.form,layout:"horizontal"}},[a("div",{class:e.advanced?null:"fold"},[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:7,lg:7,xl:6,xxl:6}},[a("a-form-item",{attrs:{label:"户名",labelCol:{span:6},wrapperCol:{span:18}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:e.formSearch.Keyword,callback:function(t){e.$set(e.formSearch,"Keyword",t)},expression:"formSearch.Keyword"}})],1)],1),a("a-col",{attrs:{md:7,lg:7,xl:6,xxl:5}},[a("a-form-item",{attrs:{label:"服务类型",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-select",{attrs:{allowClear:!0},model:{value:e.formSearch.ServiceType,callback:function(t){e.$set(e.formSearch,"ServiceType",t)},expression:"formSearch.ServiceType"}},e._l(e.ServiceTypeArray,function(t){return a("a-select-option",{key:t.key},[e._v(e._s(t.text))])}),1)],1)],1),a("a-col",{attrs:{md:7,lg:7,xl:6,xxl:5}},[a("a-form-item",{attrs:{label:"账号类型",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-select",{attrs:{allowClear:!0},model:{value:e.formSearch.AccountType,callback:function(t){e.$set(e.formSearch,"AccountType",t)},expression:"formSearch.AccountType"}},e._l(e.SBAccountTypeArray,function(t){return a("a-select-option",{key:t.key},[e._v(e._s(t.text))])}),1)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{attrs:{type:"primary"},on:{click:e.initPage}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.configureConnect}},[e._v("添加")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,pagination:!1,rowKey:"ID"},scopedSlots:e._u([{key:"AccountType",fn:function(t,r){return a("span",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.SBAccountType[r.AccountType])+"\n          ")])}},{key:"ServiceType",fn:function(t,r){return a("span",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.ServiceTypeObj[r.ServiceType])+"\n          ")])}},{key:"action",fn:function(t,r){return a("span",{staticStyle:{"text-align":"right"}},[a("a",{on:{click:function(t){return e.modify(r)}}},[e._v("修改")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.deleteAccount(r)}}},[e._v("删除")])],1)}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:e.formSearch.pageSize,total:e.formSearch.total,current:e.formSearch.current},on:{change:e.pagechange}})],1)],2)],1)],1),a("a-modal",{attrs:{title:"添加社保账户",visible:e.showconfigureLayer,"confirm-loading":e.confirmLoading,width:600},on:{ok:e.configureOk,cancel:e.handleOverCancel}},[a("a-form",{attrs:{form:e.accountForm,layout:"horizontal"}},[a("div",[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"服务类型",labelCol:{span:5},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["ServiceType",{rules:e.AFormImportRules.selectReq}],expression:"['ServiceType',{rules:AFormImportRules.selectReq}]"}],attrs:{allowClear:!1}},e._l(e.ServiceTypeArray,function(t){return a("a-select-option",{key:t.key},[e._v(e._s(t.text))])}),1)],1)],1),a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"账号类型",labelCol:{span:5},wrapperCol:{span:18}}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["AccountType",{rules:e.AFormImportRules.selectReq}],expression:"['AccountType',{rules:AFormImportRules.selectReq}]"}],attrs:{allowClear:!1}},e._l(e.SBAccountTypeArray,function(t){return a("a-select-option",{key:t.key},[e._v(e._s(t.text))])}),1)],1)],1),a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"户名",labelCol:{span:5},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["AccountName",{rules:e.AFormImportRules.iptInput}],expression:"['AccountName',{rules:AFormImportRules.iptInput}]"}],attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"户号",labelCol:{span:5},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["AccountNumber",{rules:e.AFormImportRules.iptInput}],expression:"['AccountNumber',{rules:AFormImportRules.iptInput}]"}],attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:5},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remarks"],expression:"['Remarks']"}],attrs:{placeholder:"请输入"}})],1)],1)],1)],1)])],1),a("a-modal",{attrs:{title:"修改",visible:e.showModifyLayer,"confirm-loading":e.confirmLoading,width:600},on:{ok:e.modifyOk,cancel:e.modifyCancel}},[a("a-form",{attrs:{form:e.modifyForm,layout:"horizontal"}},[a("div",[a("a-row",{attrs:{gutter:10}},[a("a-col",{attrs:{md:12}},[a("a-form-item",{attrs:{label:"服务类型",labelCol:{span:10},wrapperCol:{span:14}}},[e._v("\n                  "+e._s(e.ServiceTypeObj[e.modifyRecord.ServiceType])+"\n              ")])],1),a("a-col",{attrs:{md:12}},[a("a-form-item",{attrs:{label:"账号类型",labelCol:{span:6},wrapperCol:{span:14}}},[e._v("\n                  "+e._s(e.SBAccountType[e.modifyRecord.AccountType])+"\n              ")])],1),a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"户名",labelCol:{span:5},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["AccountName",{initialValue:e.modifyRecord.AccountName,rules:e.AFormImportRules.iptInput}],expression:"['AccountName',{initialValue:modifyRecord.AccountName,rules:AFormImportRules.iptInput}]"}],attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"户号",labelCol:{span:5},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["AccountNumber",{initialValue:e.modifyRecord.AccountNumber,rules:e.AFormImportRules.iptInput}],expression:"['AccountNumber',{initialValue:modifyRecord.AccountNumber,rules:AFormImportRules.iptInput}]"}],attrs:{placeholder:"请输入"}})],1)],1),a("a-col",{attrs:{md:24}},[a("a-form-item",{attrs:{label:"备注",labelCol:{span:5},wrapperCol:{span:18}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["Remarks",{initialValue:e.modifyRecord.Remarks}],expression:"['Remarks',{initialValue:modifyRecord.Remarks}]"}],attrs:{placeholder:"请输入"}})],1)],1)],1)],1)])],1)],1)},o=[],c=(a("8e6e"),a("456d"),a("ac6a"),a("bd86")),n=a("b775");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(a,!0).forEach(function(t){Object(c["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var s=[{title:"服务类型",scopedSlots:{customRender:"ServiceType"},width:"60"},{title:"账号类型",scopedSlots:{customRender:"AccountType"},width:"60"},{title:"账户",dataIndex:"AccountNumber",width:"120"},{title:"户名",dataIndex:"AccountName",width:"120"},{title:"操作",scopedSlots:{customRender:"action"}}],u={components:{},props:{},data:function(){var e;return e={advanced:!0,columns:s,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0,Keyword:"",AccountType:"",ServiceType:""},form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}],selectReq:[{required:!0,message:"请输入"}]},accountForm:this.$form.createForm(this),modifyForm:this.$form.createForm(this),dataSource:[],dataAccount:[],dataDetail:[],roles:[],modal:{},checkComId:"",checkLineId:"",userid:"",expandedRowKeys:[],department:[],departmentKey:"",showClaimLayer:!1,options:[],selectedOptionsCell:[],SaleUserid:"",showconfigureLayer:!1,configure:{DepId:[],Userid:"",record:{}},UserArray:[],DeptArray:[],cityList:[],ServiceTypeObj:{},BillingMode:{},BuJiaoBillingType:{},ServiceTypeArray:[],BillingModeArray:[],BuJiaoBillingTypeArray:[],callback:function(){},FlowType:{},FlowTypeArray:[]},Object(c["a"])(e,"showconfigureLayer",!1),Object(c["a"])(e,"SBAccountTypeArray",[]),Object(c["a"])(e,"SBAccountType",{}),Object(c["a"])(e,"accountArray",[]),Object(c["a"])(e,"modifyRecord",{}),Object(c["a"])(e,"showModifyLayer",!1),e},mounted:function(){var e=this;e.init()},methods:{init:function(){var e=this;n["a"].post("/api/Dim/Enum/DimDecode",{Names:["User","Dept","City"]}).then(function(t){0===t.code&&(e.UserArray=t.data.User,e.DeptArray=t.data.Dept,e.cityList=t.data.City)}).catch(function(e){console.log(e)}),n["a"].post("/api/Dim/Enum/GetEnum",{Names:["ServiceType","BillingMode","BuJiaoBillingType","FlowType","SBAccountType"]}).then(function(t){0===t.code?(console.log(t),e.ServiceTypeArray=t.data.ServiceType,e.BillingModeArray=t.data.BillingMode,e.BuJiaoBillingTypeArray=t.data.BuJiaoBillingType,e.FlowTypeArray=t.data.FlowType,e.SBAccountTypeArray=t.data.SBAccountType,t.data.ServiceType.forEach(function(t,a){e.ServiceTypeObj[t.key]=t.text}),t.data.BillingMode.forEach(function(t,a){e.BillingMode[t.key]=t.text}),t.data.BuJiaoBillingType.forEach(function(t,a){e.BuJiaoBillingType[t.key]=t.text}),t.data.FlowType.forEach(function(t,a){e.FlowType[t.key]=t.text}),t.data.SBAccountType.forEach(function(t,a){e.SBAccountType[t.key]=t.text}),e.pagechange(1)):e.$message.error(t.msg)}).catch(function(e){console.log(e)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(e){var t=this,a={};t.formSearch.current=e,a=l({},t.formSearch),this.form.validateFields(function(e,r){t.$loading.open(),n["a"].post("/api/company/SBAccount/AccountList",a).then(function(e){t.$loading.close(),0===e.code&&(t.dataSource=e.data.rows,t.formSearch.total=e.count)}).catch(function(e){t.$loading.close(),console.log(e)})})},configureConnect:function(e){var t=this;t.showconfigureLayer=!0,this.accountForm.resetFields()},configureOk:function(e){var t=this,a={};t.accountForm.validateFields(function(e,r){e||(a=r,a.ComServiceGuid=t.configure.ComServiceGuid,n["a"].post("/api/company/SBAccount/Add",a).then(function(e){0===e.code?(t.showconfigureLayer=!1,t.pagerefresh(),t.$message.success(e.msg)):t.$message.error(e.msg)}).catch(function(e){console.log(e)}))})},handleOverCancel:function(e){this.showconfigureLayer=!1},modify:function(e){this.modifyRecord=e,this.modifyForm.resetFields(),this.showModifyLayer=!0},modifyOk:function(){var e=this,t={};e.modifyForm.validateFields(function(a,r){a||(t=r,t.ID=e.modifyRecord.ID,n["a"].post("/api/company/SBAccount/Edit",t).then(function(t){0===t.code?(e.$message.success(t.msg),e.modifyCancel(),e.pagerefresh()):e.$message.error(t.msg)}).catch(function(e){console.log(e)}))})},modifyCancel:function(){this.modifyRecord={},this.showModifyLayer=!1},deleteAccount:function(e){var t=this;this.$confirm({title:"确认删除这条信息?",content:"",onOk:function(){n["a"].post("/api/company/SBAccount/Delete",{ID:e.ID}).then(function(e){0===e.code?(t.$message.success(e.msg),t.pagerefresh()):t.$message.error(e.msg)}).catch(function(e){console.log(e)})},onCancel:function(){}})}}},p=u,m=(a("13a8"),a("2877")),d=Object(m["a"])(p,r,o,!1,null,null,null);t["default"]=d.exports}}]);