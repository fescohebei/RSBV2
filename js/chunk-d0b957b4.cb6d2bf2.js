(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0b957b4"],{"0d3b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("v-chart",{attrs:{forceFit:!0,height:t.height,padding:80,data:t.data,scale:t.scale}},[a("v-tooltip",{attrs:{crosshairs:t.tooltipOpts.crosshairs,showTitle:t.tooltipOpts.showTitle,itemTpl:t.tooltipOpts.itemTpl}}),a("v-coord",{attrs:{type:"theta",radius:.8,innerRadius:.7}}),a("v-legend",{attrs:{reversed:!0}}),a("v-facet",{attrs:{type:t.facetOpts.type,fields:t.facetOpts.fields,transpose:t.facetOpts.transpose,padding:t.facetOpts.padding,eachView:t.facetOpts.eachView}})],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"RLZGUID"},scopedSlots:t._u([{key:"TodoType",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[t._v("\n              "+t._s(t.TodoType[o.TodoType])+"\n              ")])}},{key:"action",fn:function(e,o){return a("span",{staticStyle:{"text-align":"right"}},[a("a",{on:{click:function(e){return t.detail(o)}}},[t._v("联系")])])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2),a("modal-detail",{attrs:{show:t.modal.detail},on:{refresh:t.pagerefresh}})],1)],1)],1)},i=[],n=(a("8e6e"),a("456d"),a("bd86")),s=(a("ac6a"),a("55dd"),a("b775")),r=a("2c4b");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach(function(e){Object(n["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var l=[{title:"类型",scopedSlots:{customRender:"TodoType"}},{title:"最迟联系日期",dataIndex:"PresetDate"},{title:"导入时间",dataIndex:"CreateTime"},{title:"员工姓名",dataIndex:"LinkMan"},{title:"操作",scopedSlots:{customRender:"action"}}],p=[{action:"访问",visitor:500,site:"站点1"},{action:"浏览",visitor:400,site:"站点1"},{action:"交互",visitor:300,site:"站点1"},{action:"下单",visitor:200,site:"站点1"},{action:"完成",visitor:100,site:"站点1"},{action:"访问",visitor:550,site:"站点2"},{action:"浏览",visitor:420,site:"站点2"},{action:"交互",visitor:280,site:"站点2"},{action:"下单",visitor:150,site:"站点2"},{action:"完成",visitor:80,site:"站点2"}];p.sort(function(t,e){return t.visitor-e.visitor});var d=[{dataKey:"percent",formatter:function(t){return 100*t+"%"}}],y={crosshairs:!1,showTitle:!1,itemTpl:'<li data-index={index} style="margin-bottom:4px;"><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}<br/><span style="padding-left: 16px">{value}</span></li>'},f={type:"mirror",fields:["site"],transpose:!0,padding:0,eachView:function(t,e){t.interval().position("action*visitor").color("action",["#BAE7FF","#69C0FF","#40A9FF","#1890FF","#0050B3"]).shape("funnel").tooltip("site*action*visitor",function(t,e,a){return{name:t,value:e+": "+a}}).style({lineWidth:1,stroke:"#fff"}),p.map(function(a){a.site===e.colValue&&t.guide().text({top:!0,position:[a.action,"min"],content:a.visitor,style:{fill:"#fff",fontSize:"12",textAlign:e.colIndex?"start":"end",shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"},offsetX:e.colIndex?10:-10})})}},h={props:{type:{type:Object,default:function(){return{}}}},components:{ModalDetail:r["default"]},data:function(){return{advanced:!0,columns:l,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],UserArray:[],TodoType:{},modal:{detail:{show:!1}},YanglaoStatus:[],ShiyeStatus:[],YiliaoStatus:[],GongjijinStatus:[],RuLiZhiStatus:[],RuLiZhiStatusObject:{},sbType:{},DoType:{},DoTypeArray:[],Deleted:{},ContactClass:[],RSB_ContactType:[],ContactClassObject:{},RSB_ContactTypeObject:{},BujiaoTypeArray:[],BujiaoTypeObject:{},ChargeType:{},height:400,data:p,scale:d,tooltipOpts:y,facetOpts:f}},created:function(){var t=this;t.init()},activated:function(){console.log("刷新");var t=this;t.pagechange(1)},methods:{init:function(){var t=this;s["a"].post("/api/Dim/Enum/DimDecode",{Names:["User","City"]}).then(function(e){0===e.code&&(t.UserArray=e.data.User,t.cityList=e.data.City)}).catch(function(t){console.log(t)}),s["a"].post("/api/Dim/Enum/GetEnum",{Names:["YanglaoStatus","ShiyeStatus","YiliaoStatus","GongjijinStatus","RuLiZhiStatus","sbType","DoType","ContactClass","RSB_ContactType","BujiaoType","ChargeType","TodoType"]}).then(function(e){0===e.code?(e.data.TodoType.forEach(function(e,a){t.TodoType[e.key]=e.text}),t.YanglaoStatus=e.data.YanglaoStatus,t.ShiyeStatus=e.data.ShiyeStatus,t.YiliaoStatus=e.data.YiliaoStatus,t.GongjijinStatus=e.data.GongjijinStatus,t.RuLiZhiStatus=e.data.RuLiZhiStatus,t.DoTypeArray=e.data.DoType,e.data.RuLiZhiStatus.forEach(function(e,a){t.RuLiZhiStatusObject[e.key]=e.text}),e.data.sbType.forEach(function(e,a){t.sbType[e.key]=e.text}),e.data.DoType.forEach(function(e,a){t.DoType[e.key]=e.text}),t.pagechange(1),t.ContactClass=e.data.ContactClass,t.RSB_ContactType=e.data.RSB_ContactType,t.BujiaoTypeArray=e.data.BujiaoType,e.data.ContactClass.forEach(function(e,a){t.ContactClassObject[e.key]=e.text}),e.data.RSB_ContactType.forEach(function(e,a){t.RSB_ContactTypeObject[e.key]=e.text}),e.data.BujiaoType.forEach(function(e,a){t.BujiaoTypeObject[e.key]=e.text}),e.data.ChargeType.forEach(function(e,a){t.ChargeType[e.key]=e.text})):t.$message.error(e.msg)}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,a={};e.formSearch.current=t,a=u({},e.formSearch),e.$loading.open(),s["a"].post("/api/todo/RuLiZhi/MyList",a).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},detail:function(t){var e=this;this.modal.detail={show:!0,UserArray:e.UserArray,YanglaoStatus:e.YanglaoStatus,ShiyeStatus:e.ShiyeStatus,YiliaoStatus:e.YiliaoStatus,GongjijinStatus:e.GongjijinStatus,cityList:e.cityList,RLZGUID:t.RLZGUID,PGUID:t.PGUID,RuLiZhiStatusObject:e.RuLiZhiStatusObject,sbType:e.sbType,DoType:e.DoType,DoTypeArray:e.DoTypeArray,ContactClass:e.ContactClass,RSB_ContactType:e.RSB_ContactType,ContactClassObject:e.ContactClassObject,RSB_ContactTypeObject:e.RSB_ContactTypeObject,BujiaoTypeArray:e.BujiaoTypeArray,BujiaoTypeObject:e.BujiaoTypeObject,ChargeType:e.ChargeType}},pullList:function(){var t=this,e={};e.count=t.count,e.todoType=t.type.type,e.day=t.type.day,t.$loading.open(),s["a"].post("/api/todo/RuLiZhi/Pull",e).then(function(e){t.$loading.close(),0===e.code&&t.$message.success("拉取成功！")}).catch(function(e){t.$loading.close(),console.log(e)})}}},g=h,S=a("2877"),T=Object(S["a"])(g,o,i,!1,null,null,null);e["default"]=T.exports},"2f21":function(t,e,a){"use strict";var o=a("79e5");t.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}},"55dd":function(t,e,a){"use strict";var o=a("5ca1"),i=a("d8e8"),n=a("4bf8"),s=a("79e5"),r=[].sort,c=[1,2,3];o(o.P+o.F*(s(function(){c.sort(void 0)})||!s(function(){c.sort(null)})||!a("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(n(this)):r.call(n(this),i(t))}})}}]);