(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df129724","chunk-574bd418"],{"0bb4":function(e,t,o){"use strict";var n=o("30f7"),a=o.n(n);a.a},"1f17":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:400,zIndex:1001,footer:!1},on:{cancel:e.onClose}},[o("template",{slot:"title"},[e._v("\n   锁定\n ")]),o("a-form",{attrs:{form:e.connectForm}},[o("div",{staticClass:"form-box"},[o("a-row",[o("a-col",{attrs:{span:24}},[o("a-form-item",{attrs:{label:"月份",labelCol:{span:6},wrapperCol:{span:18}}},[o("a-month-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["nianyue",{rules:e.connectFormImportRules.selectReq}],expression:"['nianyue',{rules:connectFormImportRules.selectReq}]"}],staticStyle:{width:"100%"},attrs:{allowClear:!1,placeholder:"请选择月份"}})],1)],1)],1),o("div",{style:{width:"100%",padding:"0px 16px 10px",background:"#fff",borderRadius:"0 0 4px 4px"}},[o("a-button",{staticStyle:{"margin-left":"122px"},attrs:{type:"primary","html-type":"submit"},on:{click:e.saveLock}},[e._v("确定")])],1)],1)])],2)},a=[],r=o("b775"),i={props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,Detail:{}},connectForm:this.$form.createForm(this),connectFormImportRules:{selectReq:[{required:!0,message:"请选择"}]}}},watch:{show:function(e,t){var o=this;o.visible=e}},created:function(){this.init()},methods:{init:function(){},saveLock:function(){var e=this,t={};e.connectForm.validateFields(function(o,n){o||(t.ComOrgID=e.visible.Detail.ComOrgID,t.nianyue=moment(n.nianyue).format("YYYYMM"),e.$loading.open(),r["a"].post("/api/order/order_rlz/NewFrozenDanLiHu",t).then(function(t){e.$loading.close(),0===t.code?(e.$message.success(t.msg),e.onClose(),e.refresh()):e.$message.error(t.msg)}).catch(function(t){e.$loading.close(),console.log(t)}))})},onClose:function(){this.visible.show=!1,this.connectForm.resetFields()}}},c=i,s=(o("0bb4"),o("2877")),l=Object(s["a"])(c,n,a,!1,null,"62a255ca",null);t["default"]=l.exports},"2a41":function(e,t,o){},"30f7":function(e,t,o){},"4c67":function(e,t,o){"use strict";var n=o("2a41"),a=o.n(n);a.a},"6bff":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("div",{staticClass:"tab-title"},[e._v("已锁定月份")]),o("a-form",{attrs:{form:e.form,layout:"horizontal"}},[o("div",[o("a-row",{attrs:{gutter:10}},[o("a-col",{attrs:{md:4,lg:4,xl:7,xxl:5}},[o("a-form-item",{attrs:{label:"月份",labelCol:{span:6},wrapperCol:{span:17}}},[o("a-month-picker",{staticStyle:{width:"100%"},attrs:{allowClear:!0,placeholder:"请选择月份"},on:{change:e.changeNianYue},model:{value:e.formSearch.nianyue,callback:function(t){e.$set(e.formSearch,"nianyue",t)},expression:"formSearch.nianyue"}})],1)],1),o("a-col",{attrs:{md:16,lg:16,xl:10,xxl:12}},[o("a-form-item",[o("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.initPage}},[e._v("查询")]),o("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.lockSb}},[e._v("添加锁定")])],1)],1)],1)],1)])],1),o("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,pagination:!1,rowKey:"ORLZFGuid"},scopedSlots:e._u([{key:"add",fn:function(t,n){return o("span",{staticStyle:{"text-align":"right"}},[e._v("\n           "+e._s(n["申增"])+"\n          "),n["申增"]!=n["申增已处理"]?o("span",{staticStyle:{color:"red"}},[e._v("("+e._s(n["申增"]-n["申增已处理"])+")")]):e._e()])}},{key:"sub",fn:function(t,n){return o("span",{staticStyle:{"text-align":"right"}},[e._v("\n           "+e._s(n["申减"])+"\n          "),n["申减"]!=n["申减已处理"]?o("span",{staticStyle:{color:"red"}},[e._v("("+e._s(n["申减"]-n["申减已处理"])+")")]):e._e()])}},{key:"finish",fn:function(t,n){return o("span",{staticStyle:{"text-align":"right"}},[n["申减"]===n["申减已处理"]&&n["申增"]===n["申增已处理"]?o("span",[e._v("已完成")]):o("a",{staticStyle:{color:"red"}},[e._v("未完成")])])}}])},[o("template",{slot:"footer"},[o("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:e.formSearch.pageSize,total:e.formSearch.total,"show-total":function(e){return"共 "+e+" 条"},current:e.formSearch.current},on:{change:e.pagechange}})],1)],2),o("modal-lock",{attrs:{show:e.modal.lock,refresh:e.initPage}})],1)},a=[],r=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),i=o("b775"),c=o("1f17");function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(o,!0).forEach(function(t){Object(r["a"])(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var u=[{title:"完成状态",scopedSlots:{customRender:"finish"}},{title:"公司名称",dataIndex:"ComName"},{title:"年月",dataIndex:"年月"},{title:"申增社保数",scopedSlots:{customRender:"add"}},{title:"申减社保数",scopedSlots:{customRender:"sub"}}],f={components:{ModalLock:c["default"]},props:{visible:{type:Object,default:function(){return{show:!1,faDetail:{},comName:"",ServiceTypeObj:{},ServiceTypeArray:[],SBAccountTypeArray:[],SBAccountType:{},UserArray:{}}}}},data:function(){return{columns:u,confirmLoading:!1,formSearch:{pageSize:5,current:1,total:0,ComName:""},form:this.$form.createForm(this),accountForm:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}],selectReq:[{required:!0,message:"请输入"}]},modal:{lock:{show:!1}},dataSource:[],CityCode:""}},created:function(){this.init()},methods:{init:function(){this.initPage()},initPage:function(){this.pagechange(1)},pagechange:function(e){var t=this,o={};t.formSearch.current=e,o=l({},t.formSearch),o.ComName=t.visible.faDetail.ComName,o.nianyue?o.nianyue=t.formSearch.nianyue.format("YYYY-MM-DD"):o.nianyue="",t.$loading.open(),i["a"].post("/api/order/order_rlz/NewDLHFrozenList",o).then(function(e){t.$loading.close(),0===e.code&&(t.dataSource=e.data.rows,t.formSearch.total=e.count)}).catch(function(e){t.$loading.close(),console.log(e)})},connect:function(e){var t=this;this.$confirm({title:"确认关联这条信息?",content:"",onOk:function(){i["a"].post("/api/company/ComOrganization/SetRealtion",{ComOrgID:t.visible.faDetail.ComOrgID,SBAccountID:e.ID}).then(function(e){0===e.code?(t.$message.success(e.msg),t.initPage()):t.$message.error(e.msg)}).catch(function(e){console.log(e)})},onCancel:function(){}})},cancleConnect:function(e){var t=this;t.$confirm({title:"确认取消关联该账户?",content:"点击确定确认。",onOk:function(){i["a"].post("/api/company/ComOrganization/DelRealtion",{SBAccountID:e.ID}).then(function(e){0===e.code?(t.$message.success(e.msg),t.initPage()):t.$message.error(e.msg)}).catch(function(e){console.log(e)})},onCancel:function(){}})},configureConnect:function(e){this.cityChange(this.CityCode),i["a"].post("/api/Company/com/MySelf").then(function(e){0===e.code&&(t.Userid=e.data.Operator.Userid,t.accountForm.setFieldsValue({OrderUserName:t.visible.UserArray[e.data.Operator.Userid]}))}).catch(function(e){console.log(e)});var t=this;t.selectSbtype="",t.showconfigureLayer=!0,this.accountForm.resetFields()},configureOk:function(e){var t=this,o={};t.accountForm.validateFields(function(e,n){e||(o=n,o.ComOrgID=t.visible.faDetail.ComOrgID,o.YXUserId=t.Userid,i["a"].post("/api/company/SBAccount/Add",o).then(function(e){0===e.code?(t.showconfigureLayer=!1,t.initPage(),t.$message.success(e.msg)):t.$message.error(e.msg)}).catch(function(e){console.log(e)}))})},handleOverCancel:function(e){this.showconfigureLayer=!1},cityChange:function(e){e&&(this.selectCityCode=e,this.getRegion(e))},getRegion:function(e){var t=this;i["a"].post("/api/Dim/Enum/GetRegionByCityCode",{CityCode:e}).then(function(e){0===e.code&&(t.RegionListArray=e.data.Region)}).catch(function(e){console.log(e)})},sbtypeChange:function(e){console.log(e),this.selectSbtype=e},changeNianYue:function(e,t){this.formSearch.nianyue=""!=t?moment(t):void 0},lockSb:function(e){var t=this;this.modal.lock={show:!0,Detail:t.visible.faDetail}}}},m=f,d=(o("4c67"),o("2877")),p=Object(d["a"])(m,n,a,!1,null,"736ed193",null);t["default"]=p.exports}}]);