(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a4857cec"],{a0e0:function(a,t,o){},b4f1:function(a,t,o){"use strict";o.r(t);var e=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1100,footer:!1},on:{cancel:a.onClose}},[o("template",{slot:"title"},[a._v("\n  详情\n")]),o("a-form",{attrs:{form:a.form}},[o("a-row",[o("a-col",{attrs:{span:6}},[o("a-form-item",{attrs:{label:"姓名",labelCol:{span:9},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.baoxiaoDetail.baoxiao["姓名"])+"\n          ")])],1),o("a-col",{attrs:{span:6}},[o("a-form-item",{attrs:{label:"身份证号",labelCol:{span:9},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.baoxiaoDetail.baoxiao["身份证号"])+"\n          ")])],1),o("a-col",{attrs:{span:6}},[o("a-form-item",{attrs:{label:"手机号码",labelCol:{span:9},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.baoxiaoDetail.baoxiao.LinkInfo)+"\n          ")])],1),o("a-col",{attrs:{span:6}},[o("a-form-item",{attrs:{label:"创建时间",labelCol:{span:9},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.baoxiaoDetail.baoxiao.CreateDate)+"\n          ")])],1),o("a-col",{attrs:{span:6}},[o("a-form-item",{attrs:{label:"发生城市",labelCol:{span:9},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.visible.city[a.baoxiaoDetail.baoxiao.EventCityCode])+"\n          ")])],1),o("a-col",{attrs:{span:6}},[o("a-form-item",{attrs:{label:"付款方向",labelCol:{span:9},wrapperCol:{span:15}}},[a._v("\n             "+a._s(a.visible.PaymentTo[a.baoxiaoDetail.baoxiao.PaymentTo])+"\n          ")])],1),o("a-col",{attrs:{span:6}},[o("a-form-item",{attrs:{label:"社保报销类型",labelCol:{span:9},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.baoxiaoDetail.baoxiao.BXClassCode)+a._s(a.visible.BXClass[a.baoxiaoDetail.baoxiao.BXClassCode])+"\n          ")])],1),o("a-col",{attrs:{span:6}},[o("a-form-item",{attrs:{label:"报销类型子类",labelCol:{span:9},wrapperCol:{span:15}}},[a._v("\n             "+a._s(a.visible.BXSubClass[a.baoxiaoDetail.baoxiao.BXSubClassCode])+"\n          ")])],1),o("a-col",{attrs:{span:24}},[o("a-form-item",{staticStyle:{"margin-left":"10px"},attrs:{label:"备注",labelCol:{span:2},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.baoxiaoDetail.baoxiao.Remarks)+"\n          ")])],1),o("a-col",{attrs:{span:24}},[o("a-form-item",{staticStyle:{"margin-left":"10px"},attrs:{label:"客服备注",labelCol:{span:2},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.baoxiaoDetail.baoxiao.KFRemarks)+"\n          ")])],1),o("a-col",{attrs:{span:24}},[o("a-form-item",{staticStyle:{"margin-left":"10px"},attrs:{label:"运行备注",labelCol:{span:2},wrapperCol:{span:15}}},[a._v("\n            "+a._s(a.baoxiaoDetail.baoxiao.YXRemarks)+"\n          ")])],1)],1)],1),o("a-tabs",{staticClass:"tabHeight",attrs:{"default-active-key":"1"},on:{change:a.changeComTab}},[o("a-tab-pane",{key:"1",attrs:{tab:"社保信息"}},[o("a-table",{attrs:{columns:a.columns,dataSource:a.baoxiaoDetail.shebao,pagination:!1,size:"middle",rowKey:"SBGUID"},scopedSlots:a._u([{key:"BOrderItemStatus",fn:function(t,e){return o("span",{staticStyle:{"text-align":"right"}},[a._v("\n              "+a._s(a.visible.ShebaoOrderItemStatus[e.BOrderItemStatus])+"\n            ")])}},{key:"sbType",fn:function(t,e){return o("span",{staticStyle:{"text-align":"right"}},[a._v("\n              "+a._s(a.visible.sbType[e.sbType])+"\n            ")])}},{key:"EventCityCode",fn:function(t,e){return o("span",{staticStyle:{"text-align":"right"}},[a._v("\n              "+a._s(a.visible.city[e.EventCityCode])+"\n            ")])}},{key:"Startime",fn:function(t,e){return o("span",{staticStyle:{"text-align":"right"}},[a._v("\n              "+a._s(e.Startime?a.moment(e.Startime).format("YYYY-MM-DD"):"")+"\n            ")])}},{key:"SBEndDate",fn:function(t,e){return o("span",{staticStyle:{"text-align":"right"}},[a._v("\n              "+a._s(e.SBEndDate?a.moment(e.SBEndDate).format("YYYY-MM-DD"):"")+"\n            ")])}}])})],1),o("a-tab-pane",{key:"2",attrs:{tab:"收款账号信息"}},[o("a-row",[o("a-col",{attrs:{span:2}},[a._v("银行名称：")]),o("a-col",{attrs:{span:3}},[a._v(a._s(a.baoxiaoDetail.bankAccountInfo.BankAccountName))]),o("a-col",{attrs:{span:2}},[a._v("银行账号：")]),o("a-col",{attrs:{span:4}},[a._v(a._s(a.baoxiaoDetail.bankAccountInfo.BankAccount))]),o("a-col",{attrs:{span:2}},[a._v("开户行：")]),o("a-col",{attrs:{span:4}},[a._v(a._s(a.baoxiaoDetail.bankAccountInfo.BankName))]),o("a-col",{attrs:{span:2}},[a._v("账号类型：")]),o("a-col",{attrs:{span:3}},[a._v(a._s(a.visible.PaymentTo[a.baoxiaoDetail.bankAccountInfo.BankAccountType]))])],1)],1),o("a-tab-pane",{key:"3",attrs:{tab:"申报记录"}},[o("div",{staticStyle:{"margin-top":"10px"}},[a.baoxiaoDetail.logs.length>0?[o("a-timeline",a._l(a.baoxiaoDetail.logs,function(t){return o("a-timeline-item",{key:t.LogGuid},[o("p",[a._v(a._s(a.visible.BXStatus[t.BXStatus])+"\n                  ")]),o("p",[a._v("备注："+a._s(t.Remarks))])])}),1)]:a._e(),0==a.baoxiaoDetail.logs.length?[o("div",[o("a-row",{staticStyle:{"text-align":"center"}},[o("a-icon",{attrs:{type:"smile"}}),a._v(" 暂无数据")],1)],1)]:a._e()],2)])],1),o("a-divider",{attrs:{orientation:"left"}},[a._v("收材料")]),o("a-form",{staticStyle:{"margin-bottom":"50px"},attrs:{form:a.shForm}},[a.baoxiaoCailiao&&!!a.baoxiaoCailiao.length>0?o("a-form-item",{attrs:{label:"应收材料",labelCol:{span:2},wrapperCol:{span:17}}},[a._l(a.baoxiaoCailiao,function(t){return o("span",{key:t.BXCLItemGuid},[a._v(a._s(t.OrderNo+"."+t.CailiaoName+";")+" ")])})],2):a._e(),o("a-form-item",{attrs:{label:"已收材料",labelCol:{span:2},wrapperCol:{span:22}}},[20==a.baoxiaoDetail.baoxiao.BXStatus||30==a.baoxiaoDetail.baoxiao.BXStatus||38==a.baoxiaoDetail.baoxiao.BXStatus?[o("a-textarea",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:a.refuseAcceptForm.Remarks,callback:function(t){a.$set(a.refuseAcceptForm,"Remarks",t)},expression:"refuseAcceptForm.Remarks"}})]:[a._v("\n          "+a._s(a.refuseAcceptForm.Remarks?a.refuseAcceptForm.Remarks:"无")+"\n        ")]],2)],1),o("div",{staticClass:"btn-group"},[20==a.baoxiaoDetail.baoxiao.BXStatus||30==a.baoxiaoDetail.baoxiao.BXStatus||38==a.baoxiaoDetail.baoxiao.BXStatus?o("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return a.submit("chooseForm","0")}}},[a._v("收集完成")]):a._e(),20==a.baoxiaoDetail.baoxiao.BXStatus||30==a.baoxiaoDetail.baoxiao.BXStatus||38==a.baoxiaoDetail.baoxiao.BXStatus?o("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return a.submit("chooseForm","1")}}},[a._v("继续收材料")]):a._e(),20==a.baoxiaoDetail.baoxiao.BXStatus||30==a.baoxiaoDetail.baoxiao.BXStatus||32==a.baoxiaoDetail.baoxiao.BXStatus||38==a.baoxiaoDetail.baoxiao.BXStatus?o("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return a.stopCollect()}}},[a._v("终止收材料")]):a._e(),32==a.baoxiaoDetail.baoxiao.BXStatus&&20==a.baoxiaoDetail.baoxiao.ServiceType&&79==a.role?o("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return a.Apply()}}},[a._v("上报社保机构")]):a._e(),32==a.baoxiaoDetail.baoxiao.BXStatus&&20==a.baoxiaoDetail.baoxiao.ServiceType&&79==a.role?o("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return a.replenish()}}},[a._v("材料不完整")]):a._e(),40==a.baoxiaoDetail.baoxiao.BXStatus&&20==a.baoxiaoDetail.baoxiao.ServiceType&&79==a.role?o("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return a.allowance()}}},[a._v("认定结果录入")]):a._e()],1),o("a-modal",{attrs:{title:a.modalTitle,visible:a.showStopLayer,"confirm-loading":a.confirmLoading,centered:""},on:{ok:a.stopOk,cancel:a.stopCancel}},[o("a-form",{attrs:{form:a.stopForm,layout:"horizontal"}},[o("div",[o("a-row",{attrs:{gutter:10}},[o("a-col",{attrs:{md:24}},[o("a-form-item",{attrs:{label:"情况说明:",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[o("a-textarea",{attrs:{row:"4"},model:{value:a.stopForm.Remarks,callback:function(t){a.$set(a.stopForm,"Remarks",t)},expression:"stopForm.Remarks"}})],1)],1)],1)],1)])],1),o("a-modal",{attrs:{title:"认定结果录入",visible:a.showAllowLayer,"confirm-loading":a.confirmLoading,centered:""},on:{ok:a.allowOk,cancel:a.allowCancel}},[o("a-form",{attrs:{form:a.allowForm,layout:"horizontal"}},[o("div",[o("a-row",{attrs:{gutter:10}},[o("a-col",{attrs:{md:24}},[o("a-form-item",{attrs:{label:"享受津贴天数",labelCol:{span:6},wrapperCol:{span:17}}},[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["AllowanceDays",{rules:a.AFormImportRules.iptInput}],expression:"['AllowanceDays',{rules:AFormImportRules.iptInput}]"}],attrs:{suffix:"天"}})],1),o("a-form-item",{attrs:{label:"享受津贴额度",labelCol:{span:6},wrapperCol:{span:17}}},[o("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["AllowanceAmount",{rules:a.AFormImportRules.iptInput}],expression:"['AllowanceAmount',{rules:AFormImportRules.iptInput}]"}],attrs:{suffix:"元"}})],1)],1)],1)],1)])],1)],2)},i=[],s=o("bd86"),l=o("b775"),n=o("c32d"),r=o.n(n),c=[{title:"状态",scopedSlots:{customRender:"BOrderItemStatus"}},{title:"险种名称",scopedSlots:{customRender:"sbType"}},{title:"基数",dataIndex:"Jishu"},{title:"开始日期",scopedSlots:{customRender:"Startime"}},{title:"结束日期",scopedSlots:{customRender:"SBEndDate"}},{title:"比例",dataIndex:"Bili"}],p={components:{},props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){var a;return a={visible:{show:!1,Detail:{},sbType:{},BXStatus:{},PaymentTo:{},city:{},BXClass:{},BXSubClass:{},ShebaoOrderItemStatus:{},role:""},columns:c,confirmLoading:!1,dataSourceSb:[],form:this.$form.createForm(this),shForm:this.$form.createForm(this),stopForm:this.$form.createForm(this),allowForm:this.$form.createForm(this),shenherRules:{Remarks:[{required:!1,message:"请输入拒绝理由",trigger:"blur"}]},AFormImportRules:{iptInput:[{required:!0,message:"请输入"},{validator:this.ConfirmNumber}]},Detail:{},modal:{},moment:r.a,Remarks:"",baoxiaoDetail:{bankAccountInfo:{},baoxiao:{"姓名":"","身份证号":"",LinkInfo:"",CreateDate:"",EventCityCode:"",PaymentTo:"",BXClassCode:"",BXSubClassCode:"",Cailiao:null,Remarks:""},logs:[]},chooseAR:{},baoxiaoCailiao:[],baoxiaoMsg:"",refuseAcceptForm:{Remarks:""},showStopLayer:!1},Object(s["a"])(a,"stopForm",{Remarks:""}),Object(s["a"])(a,"modalTitle",""),Object(s["a"])(a,"showAllowLayer",!1),a},watch:{show:function(a,t){var o=this;o.visible=a}},created:function(){var a=this;this.$watch("show",function(t,o){a.visible=t,a.visible.show&&a.init()})},methods:{onClose:function(){this.visible.show=!1,this.baoxiaoDetail={bankAccountInfo:{},baoxiao:{"姓名":"","身份证号":"",LinkInfo:"",CreateDate:"",EventCityCode:"",PaymentTo:"",BXClassCode:"",BXSubClassCode:"",Cailiao:null,Remarks:""},logs:[]},this.refuseAcceptForm={acceptance:0,Remarks:""},this.form.resetFields()},init:function(){var a=this;l["a"].post("/api/ClientSide/Baoxiao/Detail",{SBBXGuid:a.visible.Detail.SBBXGuid}).then(function(t){a.$loading.close(),0===t.code&&(a.baoxiaoDetail=t.data,a.refuseAcceptForm.Remarks=a.baoxiaoDetail.baoxiao.Cailiao,a.searchCailiao())}).catch(function(t){a.$loading.close(),console.log(t)})},submit:function(a,t){var o=this,e={SBBXGuid:o.visible.Detail.SBBXGuid,Cailiao:o.refuseAcceptForm.Remarks};o.refuseAcceptForm.Remarks?(e.Finished="1"!=t,l["a"].post("/api/ClientSide/Baoxiao/Receive",e).then(function(a){0===a.code?(o.$message.success("提交成功！"),o.refresh(),o.onClose()):o.$message.error(a.msg)}).catch(function(a){console.log(a)})):o.$message.error("请输入已收材料！")},canChoose:function(a,t){return"30"==a.BOrderItemStatus},changeComTab:function(){},searchCailiao:function(){var a=this,t={RLZGUID:a.baoxiaoDetail.baoxiao.RLZGUID,BXClassCode:a.baoxiaoDetail.baoxiao.BXClassCode,BXSubClassCode:a.baoxiaoDetail.baoxiao.BXSubClassCode,EventCityCode:a.baoxiaoDetail.baoxiao.EventCityCode};l["a"].post("/api/ClientSide/BaoxiaoCailiao/Find",t).then(function(t){var o=t;0===o.code?a.baoxiaoCailiao=o.data.rows:a.baoxiaoMsg=o.msg}).catch(function(a){console.log(a)})},stopCollect:function(){this.showStopLayer=!0,this.modalTitle="终止收集材料",this.dialogType="stop"},Apply:function(){this.showStopLayer=!0,this.dialogTitle="上报社保机构",this.dialogType="apply"},replenish:function(){this.showStopLayer=!0,this.dialogTitle="材料不完整",this.dialogType="replenish"},stopOk:function(){var a=this,t="",o={SBBXGuid:a.visible.Detail.SBBXGuid,Remarks:a.stopForm.Remarks};a.stopForm.Remarks?("stop"==a.dialogType&&(t="/api/ClientSide/Baoxiao/Close"),"apply"==a.dialogType&&(t="/api/ClientSide/Baoxiao/Submit"),"replenish"==a.dialogType&&(t="/api/ClientSide/Baoxiao/Replenish"),l["a"].post(t,o).then(function(t){0===t.code?(a.$message.success(t.msg),a.refresh(),a.stopCancel()):a.$message.error(t.msg)}).catch(function(a){console.log(a)})):a.$message.error("请输入情况说明！")},stopCancel:function(){this.stopForm.Remarks="",this.showStopLayer=!1},allowance:function(){this.showAllowLayer=!0},allowOk:function(){var a=this,t={};this.allowForm.validateFields(function(o,e){o||(a.$loading.open(),t=e,t.SBBXGuid=a.visible.Detail.SBBXGuid,l["a"].post("/api/ClientSide/Baoxiao/Allowance",t).then(function(t){0===t.code?(a.$message.success(t.msg),a.refresh(),a.allowCancel()):a.$message.error(t.msg)}).catch(function(a){console.log(a)}))})},allowCancel:function(){this.showAllowLayer=!1,this.allowForm.resetFields()}}},m=p,b=(o("d3f3"),o("2877")),u=Object(b["a"])(m,e,i,!1,null,"23c324e8",null);t["default"]=u.exports},d3f3:function(a,t,o){"use strict";var e=o("a0e0"),i=o.n(e);i.a}}]);