(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26803d1a","chunk-aafd566e","chunk-50a18f0a"],{"0db2":function(t,e,a){"use strict";var r=a("81cb"),o=a.n(r);o.a},"1d26":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:900,footer:!1},on:{cancel:t.onClose}},[a("template",{slot:"title"},[t._v("\n  "+t._s("1"==t.visible.ModelType?"详情":"审核")+"\n")]),a("div",{staticClass:"tab-title"},[t._v("基本信息")]),a("table",{staticClass:"detail-table",attrs:{border:"1"}},[a("tr",[a("td",[t._v("员工姓名:")]),a("td",[t._v(t._s(t.visible.orderDetail.PName))]),a("td",[t._v("身份证号:")]),a("td",[t._v(t._s(t.visible.orderDetail.IDCard))]),a("td",[t._v("参保城市:")]),a("td",[t._v(t._s(t.city[t.visible.orderDetail.CityCode]))])]),a("tr",[a("td",[t._v("联系方式:")]),a("td",[t._v(t._s(t.visible.orderDetail.Mobile))]),a("td",[t._v("邮箱:")]),a("td",[t._v(t._s(t.visible.orderDetail.Email))]),a("td",[t._v("派单日期:")]),a("td",[t._v(t._s(t.visible.orderDetail.PaiDanDate))])]),a("tr",[a("td",[t._v("公司名称:")]),a("td",{attrs:{colspan:"5"}},[t._v(t._s(t.visible.orderDetail.ComName))])]),a("tr",[a("td",[t._v("备注:")]),a("td",{attrs:{colspan:"5"}},[t._v(t._s(t.visible.orderDetail.Remarks))])]),"0"!=t.visible.orderDetail.ApprovalStatus?a("tr",[a("td",[t._v("审核备注:")]),a("td",{attrs:{colspan:"5"}},[t._v(t._s(t.visible.orderDetail.ApprovalContent))])]):t._e()]),a("a-form",{attrs:{form:t.form}},[a("a-row",{staticStyle:{"margin-bottom":"50px"}},[a("a-col",{attrs:{span:24}},[a("div",{staticClass:"tab-title"},[t._v("参保信息")]),a("table",{staticClass:"detail-table",attrs:{border:"1"}},[t.visible.orderDetail.YangLao?a("tr",[a("td",[t._v("社保类型:")]),a("td",[t._v("养老")]),a("td",[t._v("工资:")]),a("td",[t._v(t._s(t.visible.orderDetail.YangLao))]),a("td",[t._v("开始时间:")]),a("td",[t._v(t._s(t.moment(t.visible.orderDetail.SBBeginDate).format("YYYY-MM-DD")))])]):t._e(),t.visible.orderDetail.ShiYe?a("tr",[a("td",[t._v("社保类型:")]),a("td",[t._v("失业")]),a("td",[t._v("工资:")]),a("td",[t._v(t._s(t.visible.orderDetail.ShiYe))]),a("td",[t._v("开始时间:")]),a("td",[t._v(t._s(t.moment(t.visible.orderDetail.SBBeginDate).format("YYYY-MM-DD")))])]):t._e(),t.visible.orderDetail.GongShang?a("tr",[a("td",[t._v("社保类型:")]),a("td",[t._v("工伤")]),a("td",[t._v("工资:")]),a("td",[t._v(t._s(t.visible.orderDetail.GongShang))]),a("td",[t._v("开始时间:")]),a("td",[t._v(t._s(t.moment(t.visible.orderDetail.SBBeginDate).format("YYYY-MM-DD")))])]):t._e(),t.visible.orderDetail.YiLiao?a("tr",[a("td",[t._v("社保类型:")]),a("td",[t._v("医疗")]),a("td",[t._v("工资:")]),a("td",[t._v(t._s(t.visible.orderDetail.YiLiao))]),a("td",[t._v("开始时间:")]),a("td",[t._v(t._s(t.moment(t.visible.orderDetail.SBBeginDate).format("YYYY-MM-DD")))])]):t._e(),t.visible.orderDetail.GongJiJin?a("tr",[a("td",[t._v("社保类型:")]),a("td",[t._v("公积金")]),a("td",[t._v("工资:")]),a("td",[t._v(t._s(t.visible.orderDetail.GongJiJin)+"("+t._s(t.visible.orderDetail.GJJBili)+")")]),a("td",[t._v("开始时间:")]),a("td",[t._v(t._s(t.moment(t.visible.orderDetail.GJJBeginDate).format("YYYY-MM-DD")))])]):t._e()])]),"0"==t.visible.orderDetail.ApprovalStatus?a("a-col",{attrs:{span:24}},[a("a-form-item",{staticStyle:{margin:"20px 0 0"},attrs:{label:"原因",labelCol:{span:1},wrapperCol:{span:23}}},[a("a-textarea",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.Remarks,callback:function(e){t.Remarks=e},expression:"Remarks"}})],1)],1):t._e()],1)],1),"0"==t.visible.orderDetail.ApprovalStatus?a("div",{style:{position:"absolute",bottom:"0",right:"0",width:"100%",padding:"10px 16px",borderTop:"1px solid #e8e8e8",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},[a("a-button",{on:{click:function(e){return t.handleSubmit("2")}}},[t._v("拒绝")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary","html-type":"submit"},on:{click:function(e){return t.handleSubmit("1")}}},[t._v("受理")])],1):t._e()],2)},o=[],i=a("b775"),n=a("c32d"),s=a.n(n),l=[{title:"状态",scopedSlots:{customRender:"BOrderItemStatus"}},{title:"险种名称",scopedSlots:{customRender:"sbType"}},{title:"基数",dataIndex:"Jishu"},{title:"开始日期",scopedSlots:{customRender:"Startime"}},{title:"比例",dataIndex:"Bili"}],c={components:{},props:{show:{type:Object,default:function(){return{show:!1}}},refresh:{type:Function,default:null}},data:function(){return{visible:{show:!1,orderDetail:{},ShebaoOrderItemStatus:{},ShebaoOrderStatus:{},sbType:{},ModelType:""},form:this.$form.createForm(this),orderDetail:{},columns:l,modal:{},dataSource:[],city:{},ShebaoOrderItemStatus:{},ShebaoOrderStatus:{},sbType:{},moment:s.a,Remarks:"",selectedIDs:[]}},computed:{rowSelection:function(){var t=this;return{onChange:function(e,a){t.selectedIDs=e},getCheckboxProps:function(t){return{props:{disabled:10!=t.BOrderItemStatus}}}}}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.visible.show&&t.init()})},methods:{onClose:function(){this.visible.show=!1,this.orderDetail={},this.Remarks="",this.form.resetFields()},init:function(){var t=this;i["a"].post("/api/Dim/Enum/DimDecode",{Names:["city"]}).then(function(e){0===e.code&&(t.city=e.data.city)}).catch(function(t){console.log(t)}),i["a"].post("/api/ClientSide/Order/Detail",{RLZGUID:t.visible.orderDetail.RLZGUID}).then(function(e){t.$loading.close(),0===e.code&&(t.orderDetail=e.data.person,t.dataSource=e.data.shebao)}).catch(function(e){t.$loading.close(),console.log(e)})},handleSubmit:function(t){var e=this,a="";"2"!=t||e.Remarks?(a="2"==t?"/api/ClientSide/BOrder/RefuseIn":"/api/ClientSide/BOrder/AcceptIn",e.$confirm({title:"确认"+("1"==t?"受理":"拒绝")+"?",content:"点击确定确认。",onOk:function(){i["a"].post(a,{OrderGuid:e.visible.orderDetail.BOrderAddGuid,Remarks:e.Remarks}).then(function(t){0===t.code?(e.$message.success(t.msg),e.onClose(),e.refresh()):e.$message.error(t.msg)}).catch(function(t){console.log(t)})},onCancel:function(){}})):e.$message.error("请输入原因！")}}},d=c,u=(a("7126"),a("2877")),p=Object(u["a"])(d,r,o,!1,null,"7e3ac111",null);e["default"]=p.exports},"39e4":function(t,e,a){},"70b5":function(t,e,a){"use strict";var r=a("a453"),o=a.n(r);o.a},7126:function(t,e,a){"use strict";var r=a("39e4"),o=a.n(r);o.a},"81cb":function(t,e,a){},a453:function(t,e,a){},cb47:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-layout",[a("a-layout-content",[a("a-card",{attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("div",{class:t.advanced?null:"fold"},[a("a-row",{attrs:{gutter:6}},[a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"单位",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.ComName,callback:function(e){t.$set(t.formSearch,"ComName",e)},expression:"formSearch.ComName"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"姓名",labelCol:{span:6},wrapperCol:{span:17,offset:1}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emName,callback:function(e){t.$set(t.formSearch,"emName",e)},expression:"formSearch.emName"}})],1)],1),a("a-col",{attrs:{md:5}},[a("a-form-item",{attrs:{label:"身份证号",labelCol:{span:7},wrapperCol:{span:17}}},[a("a-input",{attrs:{placeholder:"请输入"},model:{value:t.formSearch.emCardID,callback:function(e){t.$set(t.formSearch,"emCardID",e)},expression:"formSearch.emCardID"}})],1)],1),a("a-col",{attrs:{md:4}},[a("a-form-item",{attrs:{label:"状态",labelCol:{span:5},wrapperCol:{span:18,offset:1}}},[a("a-select",{attrs:{placeholder:"请选择",allowClear:!0},model:{value:t.formSearch.ApprovalStatus,callback:function(e){t.$set(t.formSearch,"ApprovalStatus",e)},expression:"formSearch.ApprovalStatus"}},[a("a-select-option",{key:""},[t._v("全部")]),t._l(t.SBApprovalStatus,function(e){return a("a-select-option",{key:e.key},[t._v(t._s(e.text))])})],2)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.initPage}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"download"},on:{click:t.zyExport}},[t._v("导出")])],1)],1)],1)],1)])],1),a("a-table",{attrs:{columns:t.columns,dataSource:t.dataSource,pagination:!1,rowKey:"BOrderAddGuid"},scopedSlots:t._u([{key:"status",fn:function(e,r){return a("span",{},[a("a-tag",{attrs:{color:t.statusColor[r.ApprovalStatus]}},[t._v(t._s(t.SBApprovalStatusObj[r.ApprovalStatus]))])],1)}},{key:"CityCode",fn:function(e,r){return a("span",{},[t._v(t._s(t.cityList[r.CityCode]))])}},{key:"PaiDanDate",fn:function(e,r){return a("span",{},[t._v(t._s(r.PaiDanDate?t.moment(r.PaiDanDate).format("YYYY-MM-DD"):""))])}},{key:"PName",fn:function(e,r){return a("span",{},[t._v("\n                "+t._s(r.PName)),a("br"),t._v(t._s(r.IDCard)+"\n              ")])}},{key:"shebaoSalary",fn:function(e){return a("span",{staticClass:"fs12"},[e.YangLao?a("a-tag",{attrs:{color:"blue"}},[t._v("养老")]):t._e(),e.ShiYe?a("a-tag",{attrs:{color:"blue"}},[t._v("失业")]):t._e(),e.GongShang?a("a-tag",{attrs:{color:"blue"}},[t._v("工伤")]):t._e(),e.YiLiao?a("a-tag",{attrs:{color:"blue"}},[t._v("医疗")]):t._e(),e.GongJiJin?a("a-tag",{attrs:{color:"blue"}},[t._v("公积金")]):t._e()],1)}},{key:"ApprovalContent",fn:function(e,r){return[a("a-tooltip",[a("template",{slot:"title"},[t._v("\n                    "+t._s(r.ApprovalContent)+"\n                  ")]),a("div",{staticClass:"remark-text ellipsis"},[t._v(t._s(r.ApprovalContent))])],2)]}},{key:"action",fn:function(e,r){return a("span",{staticStyle:{"text-align":"right"}},["0"==r.ApprovalStatus?a("a",{on:{click:function(e){return t.detail(r,"2")}}},[t._v("详情")]):t._e(),"0"!=r.ApprovalStatus?a("a",{on:{click:function(e){return t.detail(r,"1")}}},[t._v("详情")]):t._e()])}}])},[a("template",{slot:"footer"},[a("a-pagination",{staticStyle:{float:"right"},attrs:{defaultCurrent:1,pageSize:t.formSearch.pageSize,total:t.formSearch.total,current:t.formSearch.current},on:{change:t.pagechange}})],1)],2)],1),a("modal-detail",{attrs:{show:t.modal.detail,refresh:t.pagerefresh}}),a("modal-rz-export",{attrs:{show:t.modal.rzExport,refresh:t.pagerefresh}})],1)],1)},o=[],i=(a("8e6e"),a("456d"),a("bd86")),n=(a("ac6a"),a("b775")),s=a("1d26"),l=a("ff13"),c=a("c32d"),d=a.n(c);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var m=[{title:"状态",scopedSlots:{customRender:"status"}},{title:"参保城市",scopedSlots:{customRender:"CityCode"}},{title:"姓名",scopedSlots:{customRender:"PName"}},{title:"公司名称",dataIndex:"ComName"},{title:"险种",scopedSlots:{customRender:"shebaoSalary"}},{title:"派单时间",scopedSlots:{customRender:"PaiDanDate"}},{title:"审核时间",dataIndex:"ApprovalTime"},{title:"备注",scopedSlots:{customRender:"ApprovalContent"}},{title:"操作",scopedSlots:{customRender:"action"}}],f={props:{type:{type:Object,default:function(){return{}}}},components:{ModalDetail:s["default"],ModalRzExport:l["default"]},data:function(){return{advanced:!0,columns:m,visible:!1,confirmLoading:!1,formSearch:{pageSize:10,current:1,total:0,emCardID:"",ComName:"",emName:"",ApprovalStatus:0},count:"5",form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},dataSource:[],modal:{detail:{show:!1},rzExport:{show:!1}},moment:d.a,ShebaoOrderItemStatus:{},ShebaoOrderStatus:{},sbType:{},cityList:{},SBApprovalStatus:[],SBApprovalStatusObj:{},statusColor:{0:"blue",1:"red",2:"green","-1":""}}},created:function(){var t=this;t.init()},activated:function(){console.log("刷新");var t=this;t.pagechange(1)},methods:{init:function(){var t=this;n["a"].post("/api/Dim/Enum/DimDecode",{Names:["City"]}).then(function(e){0===e.code&&(t.cityList=e.data.City)}).catch(function(t){console.log(t)}),n["a"].post("/api/Dim/Enum/GetEnum",{Names:["ShebaoOrderItemStatus","ShebaoOrderStatus","sbType","B_ApprovalStatus"]}).then(function(e){0===e.code&&(t.SBApprovalStatus=e.data.B_ApprovalStatus,e.data.ShebaoOrderStatus.forEach(function(e,a){t.ShebaoOrderStatus[e.key]=e.text}),e.data.sbType.forEach(function(e,a){t.sbType[e.key]=e.text}),e.data.ShebaoOrderItemStatus.forEach(function(e,a){t.ShebaoOrderItemStatus[e.key]=e.text}),e.data.B_ApprovalStatus.forEach(function(e,a){t.SBApprovalStatusObj[e.key]=e.text}),t.pagechange(1))}).catch(function(t){console.log(t)})},initPage:function(){this.pagechange(1)},pagerefresh:function(){this.pagechange(this.formSearch.current)},pagechange:function(t){var e=this,a={};e.formSearch.current=t,a=p({},e.formSearch),e.$loading.open(),n["a"].post("/api/ClientSide/BOrder/OrderAddList",a).then(function(t){e.$loading.close(),0===t.code&&(e.dataSource=t.data.rows,e.formSearch.total=t.count)}).catch(function(t){e.$loading.close(),console.log(t)})},detail:function(t,e){this.modal.detail={show:!0,orderDetail:t,ModelType:e,ShebaoOrderItemStatus:this.ShebaoOrderItemStatus,ShebaoOrderStatus:this.ShebaoOrderStatus,sbType:this.sbType}},zyExport:function(){this.modal.rzExport={show:!0}}}},v=f,h=(a("70b5"),a("2877")),b=Object(h["a"])(v,r,o,!1,null,null,null);e["default"]=b.exports},ff13:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:500,zIndex:1001,centered:!0},on:{cancel:t.onClose,ok:t.handleSubmit}},[a("template",{slot:"title"},[t._v("\n  增员申请导出(已受理)\n")]),a("a-form",{attrs:{form:t.form}},[a("a-form-item",{attrs:{label:"开始时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["Begindate",{rules:t.AFormImportRules.iptInput}],expression:"['Begindate',{rules:AFormImportRules.iptInput}]"}],staticStyle:{width:"260px"},attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTimeBegin}})],1),a("a-form-item",{attrs:{label:"截止时间",labelCol:{span:6},wrapperCol:{span:16}}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["Enddate",{rules:t.AFormImportRules.iptInput}],expression:"['Enddate',{rules:AFormImportRules.iptInput}]"}],staticStyle:{width:"260px"},attrs:{format:"YYYY-MM-DD"},on:{change:t.changeTimeEnd}})],1)],1)],2)},o=[],i=a("c32d"),n=a.n(i),s={props:{show:{type:Object,default:function(){return{show:!1}}},Role:{type:String,default:""},refresh:{type:Function,default:null}},data:function(){return{spinning:!1,visible:{show:!1,Role:""},form:this.$form.createForm(this),AFormImportRules:{iptInput:[{required:!0,message:"请输入"}]},exportData:{Enddate:"",Begindate:""}}},watch:{show:function(t,e){var a=this;a.visible=t}},created:function(){var t=this;this.$watch("show",function(e,a){t.visible=e,t.visible.show&&t.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){},handleSubmit:function(){var t=this;this.form.validateFields(function(e,a){if(!e){var r={};r.Begindate=t.exportData.Begindate,r.Enddate=t.exportData.Enddate,r.Role=t.visible.Role;var o=document.createElement("a");o.href="/api/ClientSide/BOrder/ExportRuZhi?Begindate="+r.Begindate+"&Enddate="+r.Enddate,o.click(),t.onClose()}})},changeTimeBegin:function(t){this.exportData.Begindate=n()(t).format("YYYY-MM-DD")},changeTimeEnd:function(t){this.exportData.Enddate=n()(t).format("YYYY-MM-DD")}}},l=s,c=(a("0db2"),a("2877")),d=Object(c["a"])(l,r,o,!1,null,"0380684d",null);e["default"]=d.exports}}]);