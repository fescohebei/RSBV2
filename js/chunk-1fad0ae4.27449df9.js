(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fad0ae4","chunk-123aea05","chunk-1d22b61c","chunk-bce6df44","chunk-62381e5a","chunk-334c741a","chunk-5597c0fc"],{"02f4":function(e,t,i){var a=i("4588"),n=i("be13");e.exports=function(e){return function(t,i){var o,s,r=String(n(t)),c=a(i),l=r.length;return c<0||c>=l?e?"":void 0:(o=r.charCodeAt(c),o<55296||o>56319||c+1===l||(s=r.charCodeAt(c+1))<56320||s>57343?e?r.charAt(c):o:e?r.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,i){"use strict";var a=i("02f4")(!0);e.exports=function(e,t,i){return t+(i?a(e,t).length:1)}},"097e":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1200,centered:!0},on:{cancel:e.onClose,ok:e.submitLadder}},[i("template",{slot:"title"},[e._v("\n  修改城市价格\n")]),i("a-form",{attrs:{form:e.form}},e._l(e.cityServiceList,function(t,a){return i("a-row",{key:a},[i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"城市",labelCol:{span:6},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0},model:{value:t.CityCode,callback:function(i){e.$set(t,"CityCode",i)},expression:"item.CityCode"}},e._l(e.cityList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"接单客服部门",labelCol:{span:6},wrapperCol:{span:16}}},[i("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["接单客服部门",{rules:e.AFormImportRules.iptInput}],expression:"['接单客服部门',{rules:AFormImportRules.iptInput}]"}],attrs:{options:e.options,loadData:e.loadData,changeOnSelect:"",placeholder:"请选择部门"},on:{change:e.onChange}})],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"接单客服",labelCol:{span:6},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0},model:{value:t.OrderUserid,callback:function(i){e.$set(t,"OrderUserid",i)},expression:"item.OrderUserid"}},e._l(e.DepList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1),i("a-icon",{staticClass:"minus-btn ml10",attrs:{type:"minus-circle-o"},on:{click:function(){return e.removeCityService(t,a)}}})],1)],1)],1)}),1),i("div",{staticStyle:{"text-align":"center"}},[i("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.addCityService}},[i("a-icon",{attrs:{type:"plus"}}),e._v("增加城市服务\n    ")],1)],1)],2)},n=[],o=i("75fc"),s=(i("7f7f"),i("ac6a"),i("b775")),r=(i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{visible:{show:!1},form:this.$form.createForm(this),AFormImportRules:{iptSelect:[{required:!0,message:"请选择"}]},assetsdetail:{Company:{ComName:""},ComService:{ServiceType:""},ComPriceStep:[],ComServiceCity:[],ComPriceCity:[]},cityServiceList:[],cityList:[{code:"1301",name:"石家庄市"},{code:"1302",name:"唐山市"},{code:"1303",name:"秦皇岛市"}],DepList:[],options:[]}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;e.cityServiceList=e.visible.detail.ComServiceCity,s["a"].post("/api/ChildrenDepsByDepId",{DepId:"1"}).then(function(t){0===t.code&&t.data.forEach(function(t,i){var a={};a.value=t.code,a.label=t.name,a.isLeaf=!1,e.options.push(a),e.serviceOptions.push(a)})}).catch(function(e){console.log(e)})},submitLadder:function(){this.onClose()},addCityService:function(){var e={CityCode:"",OrderUserid:""};this.cityServiceList.push(e)},removeCityService:function(e,t){this.cityServiceList.splice(t,1)},loadData:function(e){var t=e[e.length-1],i=this;t.loading=!0,s["a"].post("/api/ChildrenDepsByDepId",{DepId:t.value}).then(function(e){t.loading=!1,0===e.code&&(e.data.length>0?(t.children=[],e.data.forEach(function(e,i){var a={};a.value=e.code,a.label=e.name,a.isLeaf=!1,t.children.push(a)}),i.options=Object(o["a"])(i.options)):(t.isLeaf=!0,t.loading=!1))}).catch(function(e){console.log(e),t.loading=!1})},onChange:function(e){this.DepList=[],this.SaleUserid="",this.userbydepid(e[e.length-1])},userbydepid:function(e){var t=this;s["a"].post("/api/UsersByDepId",{DepId:e}).then(function(e){var i=e;0===i.code&&(t.DepList=i.data)}).catch(function(e){console.log(e)})}}}),c=r,l=(i("b11f"),i("2877")),d=Object(l["a"])(c,a,n,!1,null,"69c8e1f9",null);t["default"]=d.exports},"0bfb":function(e,t,i){"use strict";var a=i("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0dd8":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1200,footer:null},on:{cancel:e.onClose}},[i("template",{slot:"title"},[e._v("\n  客户详情\n  ")]),i("a-tabs",{staticClass:"tabHeight",attrs:{"default-active-key":"1"},on:{change:e.changeComTab}},[i("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[i("table",{staticClass:"detail-table",attrs:{border:"1"}},[i("tr",[i("td",[e._v("公司名称:")]),i("td",[e._v(e._s(e.ComService.ComName))])])])]),i("a-tab-pane",{key:"2",attrs:{tab:"服务信息","force-render":""}},[i("table",{staticClass:"detail-table",attrs:{border:"1"}},[i("tr",[i("td",[e._v("服务类型:")]),i("td",[e._v(e._s(e.visible.ServiceType[e.ComService.ServiceType]))]),i("td",[e._v("公积金服务类型:")]),i("td",[e._v(e._s(e.visible.ServiceType[e.ComService.GJJServiceType]))])]),i("tr",[i("td",[e._v("服务费模式:")]),i("td",[e._v(e._s(e.visible.BillingMode[e.ComService.BillingMode]))]),i("td",[e._v("补缴服务费模式:")]),i("td",[e._v(e._s(e.visible.BuJiaoBillingType[e.ComService.BuJiaoBillingType]))])]),i("tr",[i("td",[e._v("是否有档案服务:")]),i("td",[e._v(e._s("true"==e.ComService.DangAn?"是":"否"))]),i("td",[e._v("联系规则:")]),i("td",[e._v(e._s(e.LinkRole[e.ComService.LinkRoleID]))])]),i("tr",[i("td",[e._v("整户费:")]),i("td",[e._v(e._s(e.ComService.AccountFee))]),i("td",[e._v("单人价格:")]),i("td",[e._v(e._s(e.ComService.UnitPrice))])]),i("tr",[i("td",[e._v("档案价格:")]),i("td",[e._v(e._s(e.ComService.ArchivesPrice))]),i("td",[e._v("是否驻场:")]),i("td",[e._v(e._s("true"==e.ComService.IsOnsite?"是":"否"))])]),i("tr",[i("td",[e._v("驻场客服:")]),i("td",[e._v(e._s(e.visible.UserArray[e.ComService.OnsiteUserid]))]),i("td",[e._v("私有工伤费率:")]),i("td",[e._v(e._s(e.ComService.GongShangRate)+"%")])]),i("tr",[i("td",[e._v("服务流程:")]),i("td",[e._v(e._s(e.visible.FlowType[e.ComService.FlowType]))])])])]),i("a-tab-pane",{key:"3",attrs:{tab:"阶梯优惠"}},[i("div",{staticClass:"tab-box"},[i("a-table",{attrs:{columns:e.columnsLadder,dataSource:e.comPriceSteps,pagination:!1,size:"middle",rowKey:"ComPriceStepGuid"},scopedSlots:e._u([{key:"EmpMin",fn:function(t,a){return i("span",{},[e._v(e._s(a.EmpMin)+"~"+e._s(a.EmpMax)+"(含)")])}}])})],1)]),i("a-tab-pane",{key:"4",attrs:{tab:"城市价格"}},[i("div",{staticClass:"tab-box"},[i("a-table",{attrs:{columns:e.columnsPrice,dataSource:e.comPriceCities,pagination:!1,rowKey:"ComPriceCityGuid",size:"middle"},scopedSlots:e._u([{key:"CityCode",fn:function(t,a){return i("span",{},[e._v(e._s(e.visible.cityList[a.CityCode]))])}}])})],1)]),i("a-tab-pane",{key:"5",attrs:{tab:"城市服务"}},[i("div",{staticClass:"tab-box"},[i("a-table",{attrs:{columns:e.columnsCity,dataSource:e.comServiceCities,pagination:!1,rowKey:"ID",size:"middle"},scopedSlots:e._u([{key:"CityCode",fn:function(t,a){return i("span",{},[e._v(e._s(e.visible.cityList[a.CityCode]))])}},{key:"OrderUserid",fn:function(t,a){return i("span",{},[e._v(e._s(e.visible.UserArray[a.OrderUserid]))])}},{key:"action",fn:function(t,a){return i("span",{},[i("a",{on:{click:function(t){return e.changeKf(a)}}},[e._v("修改订单客服")])])}}])})],1)])],1),i("a-modal",{attrs:{title:"修改接单客服",visible:e.showHandoverLayer,"confirm-loading":e.confirmLoading,centered:"","z-index":1001},on:{ok:e.handOverOk,cancel:e.handleOverCancel}},[i("a-form",{attrs:{layout:"horizontal"}},[i("div",[i("a-row",{attrs:{gutter:10}},[i("a-col",{attrs:{md:24}},[i("a-form-item",{attrs:{label:"部门",labelCol:{span:6},wrapperCol:{span:18}}},[i("a-cascader",{attrs:{options:e.allOptions,loadData:e.loadDataAll,changeOnSelect:"",placeholder:"请选择交接部门"},on:{change:e.onChangeAll},model:{value:e.handover.DepId,callback:function(t){e.$set(e.handover,"DepId",t)},expression:"handover.DepId"}})],1),i("a-form-item",{attrs:{label:"人员",labelCol:{span:6},wrapperCol:{span:18}}},[i("a-select",{model:{value:e.handover.Userid,callback:function(t){e.$set(e.handover,"Userid",t)},expression:"handover.Userid"}},e._l(e.AllUserList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1)],1)],1)])],1),i("modal-modify-service",{attrs:{show:e.modal.modifyService,refresh:e.init}}),i("modal-modify-ladder",{attrs:{show:e.modal.modifyLadder,refresh:e.init}}),i("modal-modify-city-price",{attrs:{show:e.modal.modifyCityPrice,refresh:e.init}}),i("modal-modify-city-service",{attrs:{show:e.modal.modifyCityService,refresh:e.init}}),i("modal-connect-sub-account",{attrs:{show:e.modal.connectSubAccount,refresh:e.init}})],2)},n=[],o=i("75fc"),s=(i("7f7f"),i("ac6a"),i("b775")),r=(i("c32d"),i("61f7"),i("4b94")),c=i("591f"),l=i("2160"),d=i("097e"),u=i("0ff5"),p=[{title:"阶梯",customRender:function(e,t,i){return"阶梯"+(i+1)}},{title:"人数范围",scopedSlots:{customRender:"EmpMin"}},{title:"优惠金额",dataIndex:"Discount"}],f=[{title:"城市",scopedSlots:{customRender:"CityCode"}},{title:"单人价格",dataIndex:"UnitPrice"},{title:"档案价格",dataIndex:"ArchivesPrice"}],m=[{title:"城市",scopedSlots:{customRender:"CityCode"}},{title:"接单客服",scopedSlots:{customRender:"OrderUserid"}},{title:"操作",scopedSlots:{customRender:"action"}}],v=[{title:"编码",dataIndex:"SubCode"},{title:"名称",dataIndex:"SubAccount"},{title:"费率",dataIndex:"Rate"}],h={components:{ModalModifyService:r["default"],ModalModifyLadder:c["default"],ModalModifyCityPrice:l["default"],ModalModifyCityService:d["default"],ModalConnectSubAccount:u["default"]},props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{columnsLadder:p,columnsPrice:f,columnsCity:m,columnsAccount:v,visible:{show:!1,ServiceType:{},BillingMode:{},BuJiaoBillingType:{},cityList:{},UserArray:[],FlowType:{}},form:this.$form.createForm(this),assetsdetail:{},LinkRole:{1:"按上海",2:"按北京",3:"按河北"},modal:{modifyService:{show:!1},modifyLadder:{show:!1},modifyCityPrice:{show:!1},modifyCityService:{show:!1},connectSubAccount:{show:!1}},ComService:{ComName:""},comPriceCities:[],comPriceSteps:[],comServiceCities:[],confirmLoading:!1,showHandoverLayer:!1,handover:{DepId:[],Userid:"",record:{}},allOptions:[],AllUserList:[]}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;console.log(e.visible.comGuid),s["a"].post("/api/Company/Service/Detail",{Guid:e.visible.ComServiceGuid}).then(function(t){0===t.code&&(e.ComService=t.data.comService,e.comPriceCities=t.data.comPriceCities,e.comPriceSteps=t.data.comPriceSteps,e.comServiceCities=t.data.comServiceCities)}).catch(function(e){console.log(e)}),e.getAllDep()},connectSecondAccount:function(){this.modal.connectSubAccount={show:!0}},changeComTab:function(){},modifyComService:function(){var e=this;e.modal.modifyService={show:!0,detail:e.assetsdetail}},modifyLadder:function(){var e=this;e.modal.modifyLadder={show:!0,detail:e.assetsdetail}},modifyCityPrice:function(){var e=this;e.modal.modifyCityPrice={show:!0,detail:e.assetsdetail}},modifyCityService:function(){var e=this;e.modal.modifyCityService={show:!0,detail:e.assetsdetail}},changeKf:function(e){this.handover.record=e,this.showHandoverLayer=!0},handOverOk:function(e){var t=this;t.handover.DepId===[]?t.$message.error("请选择部门！"):""===t.handover.Userid?t.$message.error("请选择人员！"):s["a"].post("/api/Company/Service/ChangeComServiceCity",{ID:t.handover.record.ID,OrderUserid:t.handover.Userid}).then(function(e){0===e.code?(t.showHandoverLayer=!1,t.handover={DepId:[],Userid:"",record:{}},t.init(),t.$message.success(e.msg)):t.$message.error(e.msg)}).catch(function(e){console.log(e)})},handleOverCancel:function(e){this.showHandoverLayer=!1,this.handover={DepId:[],Userid:"",record:{}}},getAllDep:function(){var e=this;s["a"].post("/api/Org/Department/ChildrenDepsByDepId",{DepId:"1"}).then(function(t){0===t.code&&t.data.forEach(function(t,i){var a={};a.value=t.code,a.label=t.name,a.isLeaf=!1,e.allOptions.push(a)})}).catch(function(e){console.log(e)})},loadDataAll:function(e){var t=e[e.length-1],i=this;t.loading=!0,s["a"].post("/api/Org/Department/ChildrenDepsByDepId",{DepId:t.value}).then(function(e){t.loading=!1,0===e.code&&(e.data.length>0?(t.children=[],e.data.forEach(function(e,i){var a={};a.value=e.code,a.label=e.name,a.isLeaf=!1,t.children.push(a)}),i.allOptions=Object(o["a"])(i.allOptions)):(t.isLeaf=!0,t.loading=!1,i.allOptions=Object(o["a"])(i.allOptions)))}).catch(function(e){console.log(e),t.loading=!1})},onChangeAll:function(e){this.AllUserList=[],this.handover.Userid="",this.userbydepidAll(e[e.length-1])},userbydepidAll:function(e){var t=this;s["a"].post("/api/Org/User/UsersByDepId",{DepId:e}).then(function(e){var i=e;0===i.code&&(t.AllUserList=i.data)}).catch(function(e){console.log(e)})}}},b=h,C=(i("52f8"),i("2877")),y=Object(C["a"])(b,a,n,!1,null,"71f6f3b3",null);t["default"]=y.exports},"0ff5":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:500,centered:!0},on:{cancel:e.onClose,ok:e.submitConnect}},[i("template",{slot:"title"},[e._v("\n  关联工伤二级户\n")]),i("a-form",{attrs:{form:e.form}},[i("a-form-item",{attrs:{label:"二级户名称",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0},model:{value:e.SubAccountGuid,callback:function(t){e.SubAccountGuid=t},expression:"SubAccountGuid"}},e._l(e.subAccountList,function(t){return i("a-select-option",{key:t.SubAccountGuid},[e._v(e._s(t.SubAccount))])}),1)],1)],1)],2)},n=[],o=i("b775"),s=(i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{visible:{show:!1},form:this.$form.createForm(this),subAccountList:[],SubAccountGuid:""}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;o["a"].post("/api/GongShangSubAccount",{pageSize:9999}).then(function(t){0===t.code&&(e.subAccountList=t.data.rows)}).catch(function(e){console.log(e)})},submitConnect:function(){this.onClose()}}}),r=s,c=(i("505c"),i("2877")),l=Object(c["a"])(r,a,n,!1,null,"2f2ff894",null);t["default"]=l.exports},"1af6":function(e,t,i){var a=i("63b6");a(a.S,"Array",{isArray:i("9003")})},"214f":function(e,t,i){"use strict";i("b0c5");var a=i("2aba"),n=i("32e9"),o=i("79e5"),s=i("be13"),r=i("2b4c"),c=i("520a"),l=r("species"),d=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),u=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(e,t,i){var p=r(e),f=!o(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),m=f?!o(function(){var t=!1,i=/a/;return i.exec=function(){return t=!0,null},"split"===e&&(i.constructor={},i.constructor[l]=function(){return i}),i[p](""),!t}):void 0;if(!f||!m||"replace"===e&&!d||"split"===e&&!u){var v=/./[p],h=i(s,p,""[e],function(e,t,i,a,n){return t.exec===c?f&&!n?{done:!0,value:v.call(t,i,a)}:{done:!0,value:e.call(i,t,a)}:{done:!1}}),b=h[0],C=h[1];a(String.prototype,e,b),n(RegExp.prototype,p,2==t?function(e,t){return C.call(e,this,t)}:function(e){return C.call(e,this)})}}},2160:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1200,centered:!0},on:{cancel:e.onClose,ok:e.submitLadder}},[i("template",{slot:"title"},[e._v("\n  修改城市价格\n")]),i("a-form",{attrs:{form:e.form}},e._l(e.cityPriceList,function(t,a){return i("a-row",{key:a},[i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"城市",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0},model:{value:t.CityCode,callback:function(i){e.$set(t,"CityCode",i)},expression:"item.CityCode"}},e._l(e.cityList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"单人价格",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{model:{value:t.UnitPrice,callback:function(i){e.$set(t,"UnitPrice",i)},expression:"item.UnitPrice"}})],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-item",{attrs:{label:"档案价格",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{model:{value:t.ArchivesPrice,callback:function(i){e.$set(t,"ArchivesPrice",i)},expression:"item.ArchivesPrice"}}),i("a-icon",{staticClass:"minus-btn ml10",attrs:{type:"minus-circle-o"},on:{click:function(){return e.removeCityPrice(t,a)}}})],1)],1)],1)}),1),i("div",{staticStyle:{"text-align":"center"}},[i("a-button",{staticStyle:{width:"60%"},attrs:{type:"dashed"},on:{click:e.addCityPrice}},[i("a-icon",{attrs:{type:"plus"}}),e._v("增加城市\n    ")],1)],1)],2)},n=[],o=(i("b775"),i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{visible:{show:!1},form:this.$form.createForm(this),assetsdetail:{Company:{ComName:""},ComService:{ServiceType:""},ComPriceStep:[],ComServiceCity:[],ComPriceCity:[]},cityPriceList:[],cityList:[{code:"1301",name:"石家庄市"},{code:"1302",name:"唐山市"},{code:"1303",name:"秦皇岛市"}]}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;e.cityPriceList=e.visible.detail.ComPriceCity},submitLadder:function(){this.onClose()},addCityPrice:function(){var e={CityCode:"",UnitPrice:"",ArchivesPrice:""};this.cityPriceList.push(e)},removeCityPrice:function(e,t){this.cityPriceList.splice(t,1)}}}),s=o,r=(i("b32c"),i("2877")),c=Object(r["a"])(s,a,n,!1,null,"7532f328",null);t["default"]=c.exports},"28a5":function(e,t,i){"use strict";var a=i("aae3"),n=i("cb7c"),o=i("ebd6"),s=i("0390"),r=i("9def"),c=i("5f1b"),l=i("520a"),d=i("79e5"),u=Math.min,p=[].push,f="split",m="length",v="lastIndex",h=4294967295,b=!d(function(){RegExp(h,"y")});i("214f")("split",2,function(e,t,i,d){var C;return C="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[m]||2!="ab"[f](/(?:ab)*/)[m]||4!="."[f](/(.?)(.?)/)[m]||"."[f](/()()/)[m]>1||""[f](/.?/)[m]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(n,e,t);var o,s,r,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,f=void 0===t?h:t>>>0,b=new RegExp(e.source,d+"g");while(o=l.call(b,n)){if(s=b[v],s>u&&(c.push(n.slice(u,o.index)),o[m]>1&&o.index<n[m]&&p.apply(c,o.slice(1)),r=o[0][m],u=s,c[m]>=f))break;b[v]===o.index&&b[v]++}return u===n[m]?!r&&b.test("")||c.push(""):c.push(n.slice(u)),c[m]>f?c.slice(0,f):c}:"0"[f](void 0,0)[m]?function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)}:i,[function(i,a){var n=e(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,n,a):C.call(String(n),i,a)},function(e,t){var a=d(C,e,this,t,C!==i);if(a.done)return a.value;var l=n(e),p=String(this),f=o(l,RegExp),m=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(b?"y":"g"),y=new f(b?l:"^(?:"+l.source+")",v),w=void 0===t?h:t>>>0;if(0===w)return[];if(0===p.length)return null===c(y,p)?[p]:[];var g=0,x=0,S=[];while(x<p.length){y.lastIndex=b?x:0;var _,k=c(y,b?p:p.slice(x));if(null===k||(_=u(r(y.lastIndex+(b?0:x)),p.length))===g)x=s(p,x,m);else{if(S.push(p.slice(g,x)),S.length===w)return S;for(var E=1;E<=k.length-1;E++)if(S.push(k[E]),S.length===w)return S;x=g=_}}return S.push(p.slice(g)),S}]})},2927:function(e,t,i){"use strict";var a=i("a0b7"),n=i.n(a);n.a},"40e2":function(e,t,i){},"4b94":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:1200,centered:!0},on:{cancel:e.onClose,ok:e.submitService}},[i("template",{slot:"title"},[e._v("\n  修改客户服务信息\n")]),i("a-form",{attrs:{form:e.form}},[i("a-row",[i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"服务类型",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("大库")]),i("a-select-option",{key:"20"},[e._v("单立户")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"公积金服务类型",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("大库")]),i("a-select-option",{key:"20"},[e._v("单立户")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"服务费模式",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("随账单一起收费")]),i("a-select-option",{key:"20"},[e._v("预收费")]),i("a-select-option",{key:"30"},[e._v("后收费")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"补缴服务费模式",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("按人月")]),i("a-select-option",{key:"20"},[e._v("按人")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"是否有档案服务",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("是")]),i("a-select-option",{key:"20"},[e._v("否")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"联系规则",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("按北京")]),i("a-select-option",{key:"20"},[e._v("按上海")]),i("a-select-option",{key:"20"},[e._v("按河北")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"整户费",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[""],expression:"['']"}]})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"单人价格",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[""],expression:"['']"}]})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"档案价格",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[""],expression:"['']"}]})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"是否驻场",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{attrs:{allowClear:!0}},[i("a-select-option",{key:"10"},[e._v("是")]),i("a-select-option",{key:"20"},[e._v("否")])],1)],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"驻场客服部门",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["驻场客服部门",{rules:e.AFormImportRules.iptInput}],expression:"['驻场客服部门',{rules:AFormImportRules.iptInput}]"}],attrs:{options:e.options,loadData:e.loadData,changeOnSelect:"",placeholder:"请选择部门"},on:{change:e.onChange}})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-item",{attrs:{label:"驻场客服",labelCol:{span:5},wrapperCol:{span:16}}},[i("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["驻场客服"],expression:"['驻场客服']"}],attrs:{allowClear:!0}},e._l(e.DepList,function(t){return i("a-select-option",{key:t.code},[e._v(e._s(t.name))])}),1)],1)],1)],1)],1)],2)},n=[],o=i("75fc"),s=(i("7f7f"),i("ac6a"),i("bd86")),r=i("b775"),c=(i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){var e;return e={visible:{show:!1,ServiceType:{},BillingMode:{},BuJiaoBillingType:{}},form:this.$form.createForm(this),assetsdetail:{Company:{ComName:""},ComService:{ServiceType:""},ComPriceStep:[],ComServiceCity:[],ComPriceCity:[]},LinkRole:{1:"按上海",2:"按北京",3:"按河北"}},Object(s["a"])(e,"form",this.$form.createForm(this)),Object(s["a"])(e,"AFormImportRules",{iptSelect:[{required:!0,message:"请选择"}]}),Object(s["a"])(e,"options",[]),Object(s["a"])(e,"DepList",[]),e},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;r["a"].post("/api/ComDetail",{comGuid:""}).then(function(t){0===t.code&&(e.assetsdetail=t.data)}).catch(function(e){console.log(e)})},loadData:function(e){var t=e[e.length-1],i=this;t.loading=!0,r["a"].post("/api/ChildrenDepsByDepId",{DepId:t.value}).then(function(e){t.loading=!1,0===e.code&&(e.data.length>0?(t.children=[],e.data.forEach(function(e,i){var a={};a.value=e.code,a.label=e.name,a.isLeaf=!1,t.children.push(a)}),i.options=Object(o["a"])(i.options)):(t.isLeaf=!0,t.loading=!1))}).catch(function(e){console.log(e),t.loading=!1})},onChange:function(e){this.DepList=[],this.SaleUserid="",this.userbydepid(e[e.length-1])},userbydepid:function(e){var t=this;r["a"].post("/api/UsersByDepId",{DepId:e}).then(function(e){var i=e;0===i.code&&(t.DepList=i.data)}).catch(function(e){console.log(e)})},submitService:function(){this.onClose()}}}),l=c,d=(i("2927"),i("2877")),u=Object(d["a"])(l,a,n,!1,null,"e4b295aa",null);t["default"]=u.exports},"505c":function(e,t,i){"use strict";var a=i("6af5"),n=i.n(a);n.a},"520a":function(e,t,i){"use strict";var a=i("0bfb"),n=RegExp.prototype.exec,o=String.prototype.replace,s=n,r="lastIndex",c=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e[r]||0!==t[r]}(),l=void 0!==/()??/.exec("")[1],d=c||l;d&&(s=function(e){var t,i,s,d,u=this;return l&&(i=new RegExp("^"+u.source+"$(?!\\s)",a.call(u))),c&&(t=u[r]),s=n.call(u,e),c&&s&&(u[r]=u.global?s.index+s[0].length:t),l&&s&&s.length>1&&o.call(s[0],i,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(s[d]=void 0)}),s}),e.exports=s},"52f8":function(e,t,i){"use strict";var a=i("b207"),n=i.n(a);n.a},"591f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{destroyOnClose:!0,visible:this.visible.show,maskClosable:!1,width:600,centered:!0},on:{cancel:e.onClose,ok:e.submitLadder}},[i("template",{slot:"title"},[e._v("\n  修改阶梯优惠\n")]),e._l(e.ladderList,function(t,a){return i("div",{key:a,staticClass:"steps-box text-left"},[0==parseInt(t.EmpMin)&&99999==parseInt(t.EmpMax)?[e._v("\n    阶梯"+e._s(a+1)+"："+e._s(t.EmpMin)+"~"+e._s(t.EmpMax)+"人/优惠金额:"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},attrs:{placeholder:"优惠金额"},model:{value:t.Discount,callback:function(i){e.$set(t,"Discount",i)},expression:"item.Discount"}})]:0==parseInt(t.EmpMin)&&99999!=parseInt(t.EmpMax)?[e._v("\n      阶梯"+e._s(a+1)+"："+e._s(t.EmpMin)+"~"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},on:{change:function(i){return e.ladderChange(t.EmpMax,t,a,"EmpMax")}},model:{value:t.EmpMax,callback:function(i){e.$set(t,"EmpMax",i)},expression:"item.EmpMax"}}),e._v("人/优惠金额:"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},attrs:{placeholder:"优惠金额"},model:{value:t.Discount,callback:function(i){e.$set(t,"Discount",i)},expression:"item.Discount"}})]:0!=parseInt(t.EmpMin)&&99999==parseInt(t.EmpMax)?[e._v("\n      阶梯"+e._s(a+1)+"："),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},on:{change:function(i){return e.ladderChange(t.EmpMin,t,a,"EmpMin")}},model:{value:t.EmpMin,callback:function(i){e.$set(t,"EmpMin",i)},expression:"item.EmpMin"}}),e._v(" ~ "+e._s(t.EmpMax)+"人/优惠金额:"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},attrs:{placeholder:"优惠金额"},model:{value:t.Discount,callback:function(i){e.$set(t,"Discount",i)},expression:"item.Discount"}})]:[e._v("\n      阶梯"+e._s(a+1)+"："),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},on:{change:function(i){return e.ladderChange(t.EmpMin,t,a,"EmpMin")}},model:{value:t.EmpMin,callback:function(i){e.$set(t,"EmpMin",i)},expression:"item.EmpMin"}}),e._v(" ~ "),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},on:{change:function(i){return e.ladderChange(t.EmpMax,t,a,"EmpMax")}},model:{value:t.EmpMax,callback:function(i){e.$set(t,"EmpMax",i)},expression:"item.EmpMax"}}),e._v("人/优惠金额:"),i("a-input",{staticStyle:{width:"70px","margin-left":"8px"},attrs:{placeholder:"优惠金额"},model:{value:t.Discount,callback:function(i){e.$set(t,"Discount",i)},expression:"item.Discount"}})],i("a-icon",{staticClass:"ml10",attrs:{type:"plus-circle"},on:{click:function(){return e.add(t,a)}}}),e.ladderList.length>1&&0!=a?i("a-icon",{staticClass:"dynamic-delete-button ml10",attrs:{type:"minus-circle-o",disabled:1===e.ladderList.length},on:{click:function(){return e.remove(t,a)}}}):e._e()],2)})],2)},n=[],o=(i("b775"),i("c32d"),i("61f7"),{props:{show:{type:Object,default:function(){return{show:!1}}}},data:function(){return{visible:{show:!1},form:this.$form.createForm(this),assetsdetail:{Company:{ComName:""},ComService:{ServiceType:""},ComPriceStep:[],ComServiceCity:[],ComPriceCity:[]},ladderList:[]}},watch:{show:function(e,t){var i=this;i.visible=e}},created:function(){var e=this;this.$watch("show",function(t,i){e.visible=t,e.visible.show&&e.init()})},methods:{onClose:function(){this.visible.show=!1,this.form.resetFields()},init:function(){var e=this;e.ladderList=e.visible.detail.ComPriceStep},add:function(e,t){var i={EmpMin:"",EmpMax:"",Discount:""};0==t&&t==this.ladderList.length-1?(e.EmpMax="",i.EmpMax=99999):0==t?i.EmpMin=e.EmpMax?parseInt(e.EmpMax)+1:"":t==this.ladderList.length-1?(e.EmpMax="",i.EmpMax=99999):(i.EmpMin=e.EmpMax?parseInt(e.EmpMax)+1:"",i.EmpMax=""),this.ladderList.splice(t+1,0,i),console.log(this.ladderList)},remove:function(e,t){t==this.ladderList.length-1?this.ladderList[t-1].EmpMax=99999:this.ladderList[t-1].EmpMax=e.EmpMax,this.ladderList.splice(t,1),console.log(this.ladderList)},ladderChange:function(e,t,i,a){"EmpMax"==a&&(this.ladderList[i+1].EmpMin=parseInt(e)+1),"EmpMin"==a&&(this.ladderList[i-1].EmpMax=parseInt(e)-1)},submitLadder:function(){this.onClose()}}}),s=o,r=(i("f190"),i("2877")),c=Object(r["a"])(s,a,n,!1,null,"ee152f32",null);t["default"]=c.exports},"5f1b":function(e,t,i){"use strict";var a=i("23c6"),n=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var o=i.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==a(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"61f7":function(e,t,i){"use strict";i("28a5")},"6af5":function(e,t,i){},"75fc":function(e,t,i){"use strict";var a=i("a745"),n=i.n(a);function o(e){if(n()(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}var s=i("774e"),r=i.n(s),c=i("c8bb"),l=i.n(c);function d(e){if(l()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return r()(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){return o(e)||d(e)||u()}i.d(t,"a",function(){return p})},"774e":function(e,t,i){e.exports=i("d2d5")},a0b7:function(e,t,i){},a745:function(e,t,i){e.exports=i("f410")},aae3:function(e,t,i){var a=i("d3f4"),n=i("2d95"),o=i("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},b0c5:function(e,t,i){"use strict";var a=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},b11f:function(e,t,i){"use strict";var a=i("e5ad"),n=i.n(a);n.a},b207:function(e,t,i){},b32c:function(e,t,i){"use strict";var a=i("e7c8"),n=i.n(a);n.a},c8bb:function(e,t,i){e.exports=i("54a1")},e5ad:function(e,t,i){},e7c8:function(e,t,i){},f190:function(e,t,i){"use strict";var a=i("40e2"),n=i.n(a);n.a},f410:function(e,t,i){i("1af6"),e.exports=i("584a").Array.isArray}}]);